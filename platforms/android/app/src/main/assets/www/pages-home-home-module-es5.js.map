{"version":3,"sources":["webpack:///node_modules/@zilliqa-js/viewblock/dist/config.js","webpack:///node_modules/@zilliqa-js/viewblock/dist/fn/toHex.js","webpack:///node_modules/@zilliqa-js/viewblock/dist/index.js","webpack:///node_modules/@zilliqa-js/viewblock/dist/rpc.js","webpack:///node_modules/@zilliqa-js/viewblock/dist/socket.js","webpack:///node_modules/@zilliqa-js/viewblock/dist/viewblock.js","webpack:///node_modules/@zilliqa-js/viewblock/node_modules/@zilliqa-js/crypto/dist/index.umd.js","webpack:///node_modules/@zilliqa-js/viewblock/node_modules/@zilliqa-js/util/dist/index.umd.js","webpack:///node_modules/@zilliqa-js/viewblock/node_modules/node-fetch/browser.js","webpack:///node_modules/linked-list/_source/linked-list.js","webpack:///node_modules/linked-list/index.js","webpack:///node_modules/querystring-es3/decode.js","webpack:///node_modules/querystring-es3/encode.js","webpack:///node_modules/querystring-es3/index.js","webpack:///src/app/pages/home/home.page.html","webpack:///node_modules/sc-channel/index.js","webpack:///node_modules/sc-errors/decycle.js","webpack:///node_modules/sc-errors/index.js","webpack:///node_modules/sc-formatter/index.js","webpack:///node_modules/socketcluster-client/index.js","webpack:///node_modules/socketcluster-client/lib/auth.js","webpack:///node_modules/socketcluster-client/lib/factory.js","webpack:///node_modules/socketcluster-client/lib/response.js","webpack:///node_modules/socketcluster-client/lib/scclientsocket.js","webpack:///node_modules/socketcluster-client/lib/sctransport.js","webpack:///node_modules/socketcluster-client/lib/ws-browser.js","webpack:///node_modules/socketcluster-client/node_modules/clone/clone.js","webpack:///node_modules/socketcluster-client/node_modules/component-emitter/index.js","webpack:///node_modules/socketcluster-client/node_modules/uuid/index.js","webpack:///node_modules/socketcluster-client/node_modules/uuid/lib/bytesToUuid.js","webpack:///node_modules/socketcluster-client/node_modules/uuid/lib/rng-browser.js","webpack:///node_modules/socketcluster-client/node_modules/uuid/v1.js","webpack:///node_modules/socketcluster-client/node_modules/uuid/v4.js","webpack:///src/app/pages/home/home-routing.module.ts","webpack:///src/app/pages/home/home.module.ts","webpack:///src/app/pages/home/home.page.scss","webpack:///src/app/pages/home/home.page.ts"],"names":["Object","defineProperty","exports","value","NETWORK_URLS","mainnet","testnet","_crypto","zilReg","_default","address","startsWith","substr","match","hex","fromBech32Address","_rpc","_interopRequireDefault","_viewblock","_socket","_toHex","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_ref","undefined","apiKey","_ref$network","network","agent","isAnon","getOpts","opts","rpcMethods","createTx","payload","method","params","then","res","msg","Info","hash","TranID","getGasPrice","getSCInit","getSCState","body","isHash","_ref2","_ref2$name","name","_ref2$indices","indices","console","warn","subscribe","getBlock","height","concat","getBlockTxs","query","page","getAddress","getAddressTxs","getTx","_nodeFetch","_config","_ref$agent","url","JSON","stringify","id","jsonrpc","headers","timeout","json","error","result","Error","message","_socketclusterClient","options","hostname","path","port","secure","connectTimeout","autoConnect","autoReconnect","autoReconnectOptions","initialDelay","randomness","multiplier","maxDelay","validEvents","block","transaction","addressTx","contractEvent","getSocket","Promise","resolve","reject","socket","create","on","emit","errMsg","log","cb","event","param","watch","BASE_URL","makeQuery","k","map","encodeURIComponent","join","_ref$query","q","factory","util","elliptic","hashjs","DRBG","scryptsy","aes","pbkdf2","uuid","hasOwnProperty","randomBytes","bytes","randBz","window","crypto","getRandomValues","Uint8Array","randStr","toString","slice","Signature","r","BN","s","secp256k1","ec","curve","PRIVKEY_SIZE_BYTES","PUBKEY_COMPRESSED_SIZE_BYTES","ALG","Buffer","from","ALG_LEN","ENT_LEN","HEX_ENC","generatePrivateKey","genKeyPair","entropy","n","byteLength","entropyEnc","pers","getPrivate","pubkey","sha256","totalLength","Q","toArrayLike","B","allocUnsafe","copy","update","digest","sign","privKey","pubKey","prv","drbg","getDRBG","len","sig","generate","trySign","isZero","gte","g","mul","compressedQ","encodeCompressed","umod","h","clone","imul","isub","verify","signature","isNeg","kpub","decodePoint","validate","l","add","isInfinity","r1","eq","toSignature","serialised","nonce","schnorr","freeze","CHARSET","GENERATOR","polymod","values","chk","p","top_1","hrpExpand","hrp","ret","charCodeAt","verifyChecksum","data","createChecksum","mod","encode","combined","charAt","decode","bechString","hasLower","hasUpper","toLowerCase","pos","lastIndexOf","substring","d","indexOf","HRP","convertBits","fromWidth","toWidth","pad","acc","bits","maxv","toBech32Address","validation","isAddress","addrBz","replace","shouldBe","buf","toChecksumAddress","secp256k1$1","getAddressFromPrivateKey","privateKey","normalizedPrviateKey","normalizePrivateKey","keyPair","keyFromPrivate","pub","getPublic","getPubKeyFromPrivateKey","getAccountFrom0xPrivateKey","privateKeyWith0x","privateKeyWithout0x","publicKeyWith0x","addressWith0x","getAddressFromPublicKey","bech32With0x","with0x","addr","bech32","keyPair2","publicKeyWithout0x","addressWithout0x","bech32Without0x","without0x","privateKeyAfterChange","publicKeyAfterChange","addressAfterChange","bech32AfterChange","changed","compressPublicKey","publicKey","keyFromPublic","v","and","pow","toUpperCase","isValidChecksumAddress","normaliseAddress","isBech32","encodeBase58","clean","tbl","base","zero","x","gt","rem","toNumber","div","hexBE","decodeBase58","raw","isBreak","leader","char","weight","verifyPrivateKey","isPrivateKey","normalized","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","done","__generator","_","label","sent","t","trys","ops","f","y","verb","Symbol","iterator","op","TypeError","call","pop","js","ALGO_IDENTIFIER","getDerivedKey","kdf","salt","_a","c","dklen","_b","_c","pbkdf2Sync","encryptPrivateKey","passphrase","iv","kdfparams","derivedKey","cipher","ciphertext","ModeOfOperation","ctr","Counter","encrypt","cipherparams","mac","hmac","v4","random","hexToIntArray","version","decryptPrivateKey","keystore","isEqual","decrypt","sign$1","global","Long","intToHexArray","int","size","hexRep","hexVal","intToByteArray","num","unshift","hexToByteArray","parseInt","isHex","hi","lo","pack","a","b","bzA","bzB","str","plain","test","__values","o","m","__read","ar","isByteString","isBase58","isPubKey","isSignature","isNumber","isBN","isLong","isString","isPlainObject","proto","getPrototypeOf","prototype","PRAGMA_REQUIRED","required","fn","matchesObject","e_1","tester","e_1_1","Units","DEFAULT_OPTIONS","unitMap","Map","numToStr","input","String","fromQa","qa","unit","baseStr","get","baseNumDecimals","fraction","abs","whole","toQa","inputStr","isNegative","comps","split","wholeBN","fractionBN","wei","neg","units","getGlobal","self","module","fetch","bind","Headers","Request","Response","errorMessage","List","ListPrototype","of","items","list","item","append","head","tail","toArray","prepend","detach","ListItem","Item","ListItemPrototype","prev","prop","qs","sep","regexp","maxKeys","idx","kstr","vstr","decodeURIComponent","isArray","Array","xs","stringifyPrimitive","isFinite","objectKeys","ks","parse","Emitter","SCChannel","client","PENDING","SUBSCRIBED","UNSUBSCRIBED","state","setOptions","waitForAuth","batch","getState","unsubscribe","isSubscribed","includePending","publish","callback","handler","unwatch","watchers","destroy","destroyChannel","decycle","objects","paths","derez","nu","Boolean","Date","Number","RegExp","$ref","isStrict","AuthTokenExpiredError","expiry","captureStackTrace","callee","stack","AuthTokenInvalidError","AuthTokenNotBeforeError","date","AuthTokenError","AuthError","SilentMiddlewareBlockedError","type","InvalidActionError","InvalidArgumentsError","InvalidOptionsError","InvalidMessageError","SocketProtocolError","code","ServerProtocolError","HTTPServerError","ResourceLimitError","TimeoutError","BadConnectionError","BrokerError","ProcessExitError","UnknownError","socketProtocolErrorStatuses","socketProtocolIgnoreStatuses","unserializableErrorProperties","domain","domainEmitter","domainThrown","dehydrateError","includeStackTrace","dehydratedError","hydrateError","hydratedError","validJSONStartRegex","arrayBufferToBase64","arraybuffer","base64","base64Chars","binaryToBase64Replacer","ArrayBuffer","rehydratedBuffer","err","SCClientSocket","connect","clients","_internalStorage","isLocalStorageEnabled","_checkLocalStorageEnabled","AuthEngine","localStorage","setItem","removeItem","saveToken","token","removeToken","loadToken","authToken","getItem","scErrors","_clients","getMultiplexId","protocolPrefix","queryString","queryArray","queryMap","host","isUrlSecure","location","protocol","getPort","isSecureDefault","isSecure","autoSubscribeOnConnect","ackTimeout","timestampRequests","timestampParam","authEngine","authTokenName","binaryType","multiplex","pubSubBatchDuration","cloneData","clientMap","clientId","_respond","responseData","send","end","rid","formatter","SCTransport","querystring","LinkedList","isBrowser","CLOSED","authState","UNAUTHENTICATED","signedAuthToken","pendingReconnect","pendingReconnectTimeout","preparingPendingSubscriptions","channelPrefix","disconnectOnUnload","pingTimeout","pingTimeoutDisabled","active","_clientMap","maxTimeout","Math","verifyDuration","propertyName","_localEvents","connectAttempts","_emitBuffer","channels","_cid","callIdGenerator","reconnectOptions","subscriptionRetryOptions","auth","codecEngine","codec","protocolOptionError","_onSCError","_channelEmitter","_unloadHandler","disconnect","addEventListener","CONNECTING","OPEN","AUTHENTICATED","ignoreStatuses","errorStatuses","_privateEventHandlerMap","undecoratedChannelName","_undecorateChannelName","channel","_triggerChannelUnsubscribe","response","triggerAuthenticate","_changeToAuthenticatedState","oldToken","_changeToUnauthenticatedStateAndClearTokens","transport","close","getBytesReceived","deauthenticate","open","clearTimeout","_reconnectTimeoutRef","off","status","_onSCOpen","_onSCClose","_onSCEvent","reconnect","removeEventListener","oldState","oldSignedToken","stateChangeData","newState","_extractAuthTokenData","processPendingSubscriptions","decodeBase64","encodedString","encodeBase64","decodedString","tokenParts","encodedTokenData","tokenData","getAuthToken","getSignedAuthToken","authenticate","authStatus","isAuthenticated","authError","_tryReconnect","exponent","initialTimeout","round","setTimeout","_flushEmitBuffer","listeners","_suspendSubscriptions","channelName","_abortAllPendingEventsDueToBadConnection","failureType","currentNode","nextNode","eventObject","cid","cancelPendingResponse","openAbort","closeMessage","emitObject","_handleEventAckTimeout","eventNode","_emit","pubData","_decorateChannelName","_triggerChannelSubscribe","subscriptionOptions","_triggerChannelSubscribeFail","meetsAuthRequirements","_cancelPendingSubscribeCallback","_pendingSubscriptionCid","decoratedChannelName","_trySubscribe","noTimeout","_tryUnsubscribe","currentChannel","subscriptions","subs","includeChannel","pendingChannels","sort","ap","priority","bp","removeListener","removeAllListeners","WebSocket","createWebSocket","uri","_pingTimeoutTicker","_callbackMap","_batchSendList","wsSocket","onopen","_onOpen","onclose","_onClose","reason","onmessage","flags","_onMessage","onerror","_connectTimeoutRef","schema","getTime","_resetPingTimeout","_handshake","statusCode","_onError","force","badConnectionError","_batchTimeout","_handleEventObject","rehydratedError","readyState","sendObject","now","bytesReceived","packet","simpleEventObject","Function","serializeObject","formatError","sendObjectBatch","sendObjectSingle","WorkerGlobalScope","MozWebSocket","ws","protocols","instance","_instanceof","nativeMap","nativeSet","Set","nativePromise","parent","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Infinity","_clone","child","__isArray","__isRegExp","__getRegExpFlags","lastIndex","__isDate","isBuffer","index","keyChild","valueChild","set","entryChild","attrs","symbol","descriptor","allPropertyNames","getOwnPropertyNames","clonePrototype","__objToStr","re","ignoreCase","multiline","mixin","_callbacks","once","callbacks","splice","args","hasListeners","v1","byteToHex","bytesToUuid","offset","bth","msCrypto","rnds8","whatwgRNG","rnds","mathRNG","rng","_nodeId","_clockseq","_lastMSecs","_lastNSecs","node","clockseq","seedBytes","msecs","nsecs","dt","tl","tmh","ii","routes","component","HomePageRoutingModule","imports","forChild","HomePageModule","declarations","Zilliqa","zilliqa","apiClient","HomePage","vibration","platform","activatedRoute","alertController","clipboard","route","expandTransactionBox","expandReceiveBox","processingTransaction","balance","sendAddress","sendAmount","newBalance","updateData","ready","setupWallet","privkey","replaceAll","wallet","addByPrivateKey","walletAddress","blockchain","getBalance","Zil","updateTransactionHistory","transactionHistory","docs","ms","vibrate","delay","gasPrice","Li","tx","createTransaction","transactions","toAddr","amount","gasLimit","fromNumber","updateWalletData","showPopup","showReceivePopup","header","inputs","buttons","text","alertData","calculateNewBalance","alert","present","showCustomAmountPopup","timestamp","monthNames","getMonth","getDate","getFullYear","navigate","defaultAccount","selector","template"],"mappings":"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","file":"pages-home-home-module-es5.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NETWORK_URLS = void 0;\nvar NETWORK_URLS = {\n  mainnet: 'https://api.zilliqa.com',\n  testnet: 'https://dev-api.zilliqa.com'\n};\nexports.NETWORK_URLS = NETWORK_URLS;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _crypto = require(\"@zilliqa-js/crypto\");\n\nvar zilReg = /^zil1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}$/;\n\nvar _default = function _default(address) {\n  if (address.startsWith('0x')) {\n    return address.substr(2);\n  }\n\n  if (!address.match(zilReg)) {\n    return address;\n  }\n\n  var hex = (0, _crypto.fromBech32Address)(address);\n  return hex.substr(2);\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rpc = _interopRequireDefault(require(\"./rpc\"));\n\nvar _viewblock = _interopRequireDefault(require(\"./viewblock\"));\n\nvar _socket = _interopRequireDefault(require(\"./socket\"));\n\nvar _toHex = _interopRequireDefault(require(\"./fn/toHex\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default = function _default() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      apiKey = _ref.apiKey,\n      _ref$network = _ref.network,\n      network = _ref$network === void 0 ? 'mainnet' : _ref$network,\n      agent = _ref.agent;\n\n  var isAnon = !apiKey;\n\n  var getOpts = function getOpts(opts) {\n    return _objectSpread({\n      apiKey: apiKey,\n      network: network,\n      agent: agent\n    }, opts);\n  };\n\n  var rpcMethods = {\n    createTx: function createTx(payload, opts) {\n      return (0, _rpc.default)({\n        method: 'CreateTransaction',\n        params: [payload]\n      }, getOpts(opts)).then(function (res) {\n        return {\n          msg: res.Info,\n          hash: res.TranID\n        };\n      });\n    },\n    getGasPrice: function getGasPrice(opts) {\n      return (0, _rpc.default)('GetMinimumGasPrice', getOpts(opts));\n    },\n    getSCInit: function getSCInit(hash, opts) {\n      return (0, _rpc.default)({\n        method: 'GetSmartContractInit',\n        params: [(0, _toHex.default)(hash)]\n      }, getOpts(opts));\n    },\n    getSCState: function getSCState(body, opts) {\n      var isHash = typeof body === 'string';\n\n      var _ref2 = isHash ? {\n        address: body\n      } : body,\n          address = _ref2.address,\n          _ref2$name = _ref2.name,\n          name = _ref2$name === void 0 ? '' : _ref2$name,\n          _ref2$indices = _ref2.indices,\n          indices = _ref2$indices === void 0 ? [] : _ref2$indices;\n\n      return (0, _rpc.default)({\n        method: 'GetSmartContractSubState',\n        params: [(0, _toHex.default)(address), name, indices]\n      }, getOpts(opts));\n    }\n  };\n\n  if (isAnon) {\n    console.warn(\"Disabling main library features: No API credentials provided.\\nGet them on https://viewblock.io by creating a free account and an API key.\");\n    return rpcMethods;\n  }\n\n  return _objectSpread(_objectSpread({}, rpcMethods), {}, {\n    subscribe: (0, _socket.default)(apiKey),\n    getBlock: function getBlock(height, opts) {\n      return (0, _viewblock.default)(\"/v1/zilliqa/blocks/\".concat(height), getOpts(opts));\n    },\n    getBlockTxs: function getBlockTxs(height) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return (0, _viewblock.default)(\"/v1/zilliqa/blocks/\".concat(height, \"/txs\"), getOpts(_objectSpread(_objectSpread({}, opts), {}, {\n        query: {\n          page: opts.page\n        }\n      })));\n    },\n    getAddress: function getAddress(hash, opts) {\n      return (0, _viewblock.default)(\"/v1/zilliqa/addresses/\".concat(hash), getOpts(opts)).then(function (res) {\n        return res && res[0];\n      });\n    },\n    getAddressTxs: function getAddressTxs(hash) {\n      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return (0, _viewblock.default)(\"/v2/zilliqa/addresses/\".concat(hash, \"/txs\"), getOpts(_objectSpread(_objectSpread({}, opts), {}, {\n        query: {\n          page: opts.page\n        }\n      })));\n    },\n    getTx: function getTx(hash, opts) {\n      return (0, _viewblock.default)(\"/v1/zilliqa/txs/\".concat(hash), getOpts(opts));\n    }\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nvar _config = require(\"./config\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _default = function _default(body, _ref) {\n  var network = _ref.network,\n      _ref$agent = _ref.agent,\n      agent = _ref$agent === void 0 ? null : _ref$agent;\n  var url = _config.NETWORK_URLS[network];\n  var payload = typeof body === 'string' ? {\n    method: body\n  } : body;\n  return (0, _nodeFetch.default)(url, {\n    method: 'POST',\n    body: JSON.stringify(_objectSpread({\n      id: 1,\n      jsonrpc: '2.0',\n      params: ['']\n    }, payload)),\n    headers: {\n      'Content-Type': 'json'\n    },\n    timeout: 1e3 * 30,\n    agent: agent\n  }).then(function (res) {\n    return res.json();\n  }).then(function (json) {\n    var _ref2 = json || {},\n        error = _ref2.error,\n        result = _ref2.result;\n\n    if (error) {\n      throw new Error(error.message);\n    }\n\n    return result;\n  });\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _socketclusterClient = _interopRequireDefault(require(\"socketcluster-client\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar options = {\n  hostname: 'live.viewblock.io',\n  path: '/',\n  port: 444,\n  secure: true,\n  connectTimeout: 10e3,\n  autoConnect: true,\n  autoReconnect: true,\n  autoReconnectOptions: {\n    initialDelay: 1e3,\n    randomness: 5e3,\n    multiplier: 1.1,\n    maxDelay: 20e3\n  }\n};\nvar validEvents = {\n  block: 1,\n  transaction: 1,\n  addressTx: 1,\n  contractEvent: 1\n};\n\nvar getSocket = function getSocket(key) {\n  return new Promise(function (resolve, reject) {\n    var socket = _socketclusterClient.default.create(options);\n\n    socket.on('connect', function () {\n      socket.emit('login', {\n        key: key\n      }, function (errMsg) {\n        if (errMsg) {\n          return reject(new Error(errMsg));\n        }\n\n        resolve(socket);\n      });\n    });\n    socket.on('error', console.log);\n    return socket;\n  });\n};\n\nvar _default = function _default(apiKey) {\n  return function (payload, cb) {\n    return getSocket(apiKey).then(function (socket) {\n      if (!payload) {\n        throw new Error('Invalid subscription.');\n      }\n\n      var event = payload.event || payload;\n\n      if (!validEvents[event]) {\n        throw new Error('Invalid subscription.');\n      }\n\n      var param = payload.param;\n      var key = \"zilliqa:\".concat(event).concat(param ? \":\".concat(param) : '');\n      socket.subscribe(key).watch(cb);\n    });\n  };\n};\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar BASE_URL = 'https://api.viewblock.io';\n\nvar makeQuery = function makeQuery(params) {\n  var keys = Object.keys(params).filter(function (k) {\n    return params[k];\n  });\n  return \"\".concat(keys.length ? '?' : '').concat(keys.map(function (key) {\n    return \"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key]));\n  }, '').join('&'));\n};\n\nvar _default = function _default(path, _ref) {\n  var apiKey = _ref.apiKey,\n      _ref$query = _ref.query,\n      query = _ref$query === void 0 ? {} : _ref$query,\n      network = _ref.network,\n      _ref$agent = _ref.agent,\n      agent = _ref$agent === void 0 ? null : _ref$agent;\n  var q = makeQuery(_objectSpread(_objectSpread({}, query), {}, {\n    network: network\n  }));\n  return (0, _nodeFetch.default)(\"\".concat(BASE_URL).concat(path).concat(q), {\n    headers: {\n      'Content-Type': 'json',\n      'X-APIKEY': apiKey\n    },\n    timeout: 1e3 * 30,\n    agent: agent\n  }).then(function (res) {\n    return res.json();\n  });\n};\n\nexports.default = _default;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@zilliqa-js/util'), require('elliptic'), require('hash.js'), require('hmac-drbg'), require('scryptsy'), require('aes-js'), require('pbkdf2'), require('uuid')) :\n  typeof define === 'function' && define.amd ? define(['exports', '@zilliqa-js/util', 'elliptic', 'hash.js', 'hmac-drbg', 'scryptsy', 'aes-js', 'pbkdf2', 'uuid'], factory) :\n  (factory((global.zjsCrypto = {}),global['@zilliqa-js/util'],global.elliptic,global.hash.js,global['hmac-drbg'],global.scryptsy,global['aes-js'],global.pbkdf2,global.uuid));\n}(this, (function (exports,util,elliptic,hashjs,DRBG,scryptsy,aes,pbkdf2,uuid) { 'use strict';\n\n  elliptic = elliptic && elliptic.hasOwnProperty('default') ? elliptic['default'] : elliptic;\n  hashjs = hashjs && hashjs.hasOwnProperty('default') ? hashjs['default'] : hashjs;\n  DRBG = DRBG && DRBG.hasOwnProperty('default') ? DRBG['default'] : DRBG;\n  scryptsy = scryptsy && scryptsy.hasOwnProperty('default') ? scryptsy['default'] : scryptsy;\n  aes = aes && aes.hasOwnProperty('default') ? aes['default'] : aes;\n  uuid = uuid && uuid.hasOwnProperty('default') ? uuid['default'] : uuid;\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  //\r\n  //  This program is free software: you can redistribute it and/or modify\r\n  //  it under the terms of the GNU General Public License as published by\r\n  //  the Free Software Foundation, either version 3 of the License, or\r\n  //  (at your option) any later version.\r\n  //\r\n  //   This program is distributed in the hope that it will be useful,\r\n  //   but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  //   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  //   GNU General Public License for more details.\r\n  //\r\n  //   You should have received a copy of the GNU General Public License\r\n  //   along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n  /**\r\n   * randomBytes\r\n   *\r\n   * Uses JS-native CSPRNG to generate a specified number of bytes.\r\n   * NOTE: this method throws if no PRNG is available.\r\n   *\r\n   * @param {number} bytes\r\n   * @returns {string}\r\n   */\r\n  var randomBytes = function (bytes) {\r\n      var randBz;\r\n      if (typeof window !== 'undefined' &&\r\n          window.crypto &&\r\n          window.crypto.getRandomValues) {\r\n          randBz = window.crypto.getRandomValues(new Uint8Array(bytes));\r\n      }\r\n      else if (typeof require !== 'undefined') {\r\n          randBz = require('crypto').randomBytes(bytes);\r\n      }\r\n      else {\r\n          throw new Error('Unable to generate safe random numbers.');\r\n      }\r\n      var randStr = '';\r\n      for (var i = 0; i < bytes; i++) {\r\n          randStr += ('00' + randBz[i].toString(16)).slice(-2);\r\n      }\r\n      return randStr;\r\n  };\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var Signature = /** @class */ (function () {\r\n      function Signature(options) {\r\n          this.r = typeof options.r === 'string' ? new util.BN(options.r, 16) : options.r;\r\n          this.s = typeof options.s === 'string' ? new util.BN(options.s, 16) : options.s;\r\n      }\r\n      return Signature;\r\n  }());\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var secp256k1 = elliptic.ec('secp256k1');\r\n  var curve = secp256k1.curve;\r\n  var PRIVKEY_SIZE_BYTES = 32;\r\n  // Public key is a point (x, y) on the curve.\r\n  // Each coordinate requires 32 bytes.\r\n  // In its compressed form it suffices to store the x co-ordinate\r\n  // and the sign for y.\r\n  // Hence a total of 33 bytes.\r\n  var PUBKEY_COMPRESSED_SIZE_BYTES = 33;\r\n  // Personalization string used for HMAC-DRBG instantiation.\r\n  var ALG = Buffer.from('Schnorr+SHA256  ', 'ascii');\r\n  // The length in bytes of the string above.\r\n  var ALG_LEN = 16;\r\n  // The length in bytes of entropy inputs to HMAC-DRBG\r\n  var ENT_LEN = 32;\r\n  var HEX_ENC = 'hex';\r\n  /**\r\n   * generatePrivateKey\r\n   *\r\n   * @returns {string} - the hex-encoded private key\r\n   */\r\n  var generatePrivateKey = function () {\r\n      return secp256k1\r\n          .genKeyPair({\r\n          entropy: randomBytes(secp256k1.curve.n.byteLength()),\r\n          entropyEnc: HEX_ENC,\r\n          pers: 'zilliqajs+secp256k1+SHA256',\r\n      })\r\n          .getPrivate()\r\n          .toString(16, PRIVKEY_SIZE_BYTES * 2);\r\n  };\r\n  /**\r\n   * Hash (r | M).\r\n   * @param {Buffer} msg\r\n   * @param {BN} r\r\n   *\r\n   * @returns {Buffer}\r\n   */\r\n  var hash = function (q, pubkey, msg) {\r\n      var sha256 = hashjs.sha256();\r\n      var totalLength = PUBKEY_COMPRESSED_SIZE_BYTES * 2 + msg.byteLength; // 33 q + 33 pubkey + variable msgLen\r\n      var Q = q.toArrayLike(Buffer, 'be', 33);\r\n      var B = Buffer.allocUnsafe(totalLength);\r\n      Q.copy(B, 0);\r\n      pubkey.copy(B, 33);\r\n      msg.copy(B, 66);\r\n      return new util.BN(sha256.update(B).digest('hex'), 16);\r\n  };\r\n  /**\r\n   * sign\r\n   *\r\n   * @param {Buffer} msg\r\n   * @param {Buffer} key\r\n   * @param {Buffer} pubkey\r\n   *\r\n   * @returns {Signature}\r\n   */\r\n  var sign = function (msg, privKey, pubKey) {\r\n      var prv = new util.BN(privKey);\r\n      var drbg = getDRBG(msg);\r\n      var len = curve.n.byteLength();\r\n      var sig;\r\n      while (!sig) {\r\n          var k = new util.BN(drbg.generate(len));\r\n          sig = trySign(msg, k, prv, pubKey);\r\n      }\r\n      return sig;\r\n  };\r\n  /**\r\n   * trySign\r\n   *\r\n   * @param {Buffer} msg - the message to sign over\r\n   * @param {BN} k - output of the HMAC-DRBG\r\n   * @param {BN} privateKey - the private key\r\n   * @param {Buffer} pubKey - the public key\r\n   *\r\n   * @returns {Signature | null =>}\r\n   */\r\n  var trySign = function (msg, k, privKey, pubKey) {\r\n      if (privKey.isZero()) {\r\n          throw new Error('Bad private key.');\r\n      }\r\n      if (privKey.gte(curve.n)) {\r\n          throw new Error('Bad private key.');\r\n      }\r\n      // 1a. check that k is not 0\r\n      if (k.isZero()) {\r\n          return null;\r\n      }\r\n      // 1b. check that k is < the order of the group\r\n      if (k.gte(curve.n)) {\r\n          return null;\r\n      }\r\n      // 2. Compute commitment Q = kG, where g is the base point\r\n      var Q = curve.g.mul(k);\r\n      // convert the commitment to octets first\r\n      var compressedQ = new util.BN(Q.encodeCompressed());\r\n      // 3. Compute the challenge r = H(Q || pubKey || msg)\r\n      // mod reduce the r value by the order of secp256k1, n\r\n      var r = hash(compressedQ, pubKey, msg).umod(curve.n);\r\n      var h = r.clone();\r\n      if (h.isZero()) {\r\n          return null;\r\n      }\r\n      // 4. Compute s = k - r * prv\r\n      // 4a. Compute r * prv\r\n      var s = h.imul(privKey).umod(curve.n);\r\n      // 4b. Compute s = k - r * prv mod n\r\n      s = k.isub(s).umod(curve.n);\r\n      if (s.isZero()) {\r\n          return null;\r\n      }\r\n      return new Signature({ r: r, s: s });\r\n  };\r\n  /**\r\n   * Verify signature.\r\n   *\r\n   * @param {Buffer} msg\r\n   * @param {Buffer} signature\r\n   * @param {Buffer} key\r\n   *\r\n   * @returns {boolean}\r\n   *\r\n   * 1. Check if r,s is in [1, ..., order-1]\r\n   * 2. Compute Q = sG + r*kpub\r\n   * 3. If Q = O (the neutral point), return 0;\r\n   * 4. r' = H(Q, kpub, m)\r\n   * 5. return r' == r\r\n   */\r\n  var verify = function (msg, signature, key) {\r\n      var sig = new Signature(signature);\r\n      if (sig.s.isZero() || sig.r.isZero()) {\r\n          throw new Error('Invalid signature');\r\n      }\r\n      if (sig.s.isNeg() || sig.r.isNeg()) {\r\n          throw new Error('Invalid signature');\r\n      }\r\n      if (sig.s.gte(curve.n) || sig.r.gte(curve.n)) {\r\n          throw new Error('Invalid signature');\r\n      }\r\n      var kpub = curve.decodePoint(key);\r\n      if (!curve.validate(kpub)) {\r\n          throw new Error('Invalid public key');\r\n      }\r\n      var l = kpub.mul(sig.r);\r\n      var r = curve.g.mul(sig.s);\r\n      var Q = l.add(r);\r\n      if (Q.isInfinity()) {\r\n          throw new Error('Invalid intermediate point.');\r\n      }\r\n      var compressedQ = new util.BN(Q.encodeCompressed());\r\n      var r1 = hash(compressedQ, key, msg).umod(curve.n);\r\n      if (r1.isZero()) {\r\n          throw new Error('Invalid hash.');\r\n      }\r\n      return r1.eq(sig.r);\r\n  };\r\n  var toSignature = function (serialised) {\r\n      var r = serialised.slice(0, 64);\r\n      var s = serialised.slice(64);\r\n      return new Signature({ r: r, s: s });\r\n  };\r\n  /**\r\n   * Instantiate an HMAC-DRBG.\r\n   *\r\n   * @param {Buffer} msg - used as nonce\r\n   *\r\n   * @returns {DRBG}\r\n   */\r\n  var getDRBG = function (msg) {\r\n      var entropy = randomBytes(ENT_LEN);\r\n      var pers = Buffer.allocUnsafe(ALG_LEN + ENT_LEN);\r\n      Buffer.from(randomBytes(ENT_LEN)).copy(pers, 0);\r\n      ALG.copy(pers, ENT_LEN);\r\n      return new DRBG({\r\n          hash: hashjs.sha256,\r\n          entropy: entropy,\r\n          nonce: msg,\r\n          pers: pers,\r\n      });\r\n  };\n\n  var schnorr = /*#__PURE__*/Object.freeze({\n    generatePrivateKey: generatePrivateKey,\n    hash: hash,\n    sign: sign,\n    trySign: trySign,\n    verify: verify,\n    toSignature: toSignature\n  });\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  // This code is taken from https://github.com/sipa/bech32/tree/bdc264f84014c234e908d72026b7b780122be11f/ref/javascript\r\n  // Copyright (c) 2017 Pieter Wuille\r\n  //\r\n  // Permission is hereby granted, free of charge, to any person obtaining a copy\r\n  // of this software and associated documentation files (the \"Software\"), to deal\r\n  // in the Software without restriction, including without limitation the rights\r\n  // to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n  // copies of the Software, and to permit persons to whom the Software is\r\n  // furnished to do so, subject to the following conditions:\r\n  //\r\n  // The above copyright notice and this permission notice shall be included in\r\n  // all copies or substantial portions of the Software.\r\n  //\r\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n  // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n  // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n  // AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n  // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n  // OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n  // THE SOFTWARE.\r\n  var CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\r\n  var GENERATOR = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\r\n  var polymod = function (values) {\r\n      var chk = 1;\r\n      // tslint:disable-next-line\r\n      for (var p = 0; p < values.length; ++p) {\r\n          var top_1 = chk >> 25;\r\n          chk = ((chk & 0x1ffffff) << 5) ^ values[p];\r\n          for (var i = 0; i < 5; ++i) {\r\n              if ((top_1 >> i) & 1) {\r\n                  chk ^= GENERATOR[i];\r\n              }\r\n          }\r\n      }\r\n      return chk;\r\n  };\r\n  var hrpExpand = function (hrp) {\r\n      var ret = [];\r\n      var p;\r\n      for (p = 0; p < hrp.length; ++p) {\r\n          ret.push(hrp.charCodeAt(p) >> 5);\r\n      }\r\n      ret.push(0);\r\n      for (p = 0; p < hrp.length; ++p) {\r\n          ret.push(hrp.charCodeAt(p) & 31);\r\n      }\r\n      return Buffer.from(ret);\r\n  };\r\n  function verifyChecksum(hrp, data) {\r\n      return polymod(Buffer.concat([hrpExpand(hrp), data])) === 1;\r\n  }\r\n  function createChecksum(hrp, data) {\r\n      var values = Buffer.concat([\r\n          Buffer.from(hrpExpand(hrp)),\r\n          data,\r\n          Buffer.from([0, 0, 0, 0, 0, 0]),\r\n      ]);\r\n      // var values = hrpExpand(hrp).concat(data).concat([0, 0, 0, 0, 0, 0]);\r\n      var mod = polymod(values) ^ 1;\r\n      var ret = [];\r\n      for (var p = 0; p < 6; ++p) {\r\n          ret.push((mod >> (5 * (5 - p))) & 31);\r\n      }\r\n      return Buffer.from(ret);\r\n  }\r\n  var encode = function (hrp, data) {\r\n      var combined = Buffer.concat([data, createChecksum(hrp, data)]);\r\n      var ret = hrp + '1';\r\n      // tslint:disable-next-line\r\n      for (var p = 0; p < combined.length; ++p) {\r\n          ret += CHARSET.charAt(combined[p]);\r\n      }\r\n      return ret;\r\n  };\r\n  var decode = function (bechString) {\r\n      var p;\r\n      var hasLower = false;\r\n      var hasUpper = false;\r\n      for (p = 0; p < bechString.length; ++p) {\r\n          if (bechString.charCodeAt(p) < 33 || bechString.charCodeAt(p) > 126) {\r\n              return null;\r\n          }\r\n          if (bechString.charCodeAt(p) >= 97 && bechString.charCodeAt(p) <= 122) {\r\n              hasLower = true;\r\n          }\r\n          if (bechString.charCodeAt(p) >= 65 && bechString.charCodeAt(p) <= 90) {\r\n              hasUpper = true;\r\n          }\r\n      }\r\n      if (hasLower && hasUpper) {\r\n          return null;\r\n      }\r\n      bechString = bechString.toLowerCase();\r\n      var pos = bechString.lastIndexOf('1');\r\n      if (pos < 1 || pos + 7 > bechString.length || bechString.length > 90) {\r\n          return null;\r\n      }\r\n      var hrp = bechString.substring(0, pos);\r\n      var data = [];\r\n      for (p = pos + 1; p < bechString.length; ++p) {\r\n          var d = CHARSET.indexOf(bechString.charAt(p));\r\n          if (d === -1) {\r\n              return null;\r\n          }\r\n          data.push(d);\r\n      }\r\n      if (!verifyChecksum(hrp, Buffer.from(data))) {\r\n          return null;\r\n      }\r\n      return { hrp: hrp, data: Buffer.from(data.slice(0, data.length - 6)) };\r\n  };\r\n  // HRP is the human-readable part of zilliqa bech32 addresses\r\n  var HRP = 'zil';\r\n  /**\r\n   * convertBits\r\n   *\r\n   * groups buffers of a certain width to buffers of the desired width.\r\n   *\r\n   * For example, converts byte buffers to buffers of maximum 5 bit numbers,\r\n   * padding those numbers as necessary. Necessary for encoding Ethereum-style\r\n   * addresses as bech32 ones.\r\n   *\r\n   * @param {Buffer} data\r\n   * @param {number} fromWidth\r\n   * @param {number} toWidth\r\n   * @param {boolean} pad\r\n   * @returns {Buffer|null}\r\n   */\r\n  var convertBits = function (data, fromWidth, toWidth, pad) {\r\n      if (pad === void 0) { pad = true; }\r\n      var acc = 0;\r\n      var bits = 0;\r\n      var ret = [];\r\n      var maxv = (1 << toWidth) - 1;\r\n      // tslint:disable-next-line\r\n      for (var p = 0; p < data.length; ++p) {\r\n          var value = data[p];\r\n          if (value < 0 || value >> fromWidth !== 0) {\r\n              return null;\r\n          }\r\n          acc = (acc << fromWidth) | value;\r\n          bits += fromWidth;\r\n          while (bits >= toWidth) {\r\n              bits -= toWidth;\r\n              ret.push((acc >> bits) & maxv);\r\n          }\r\n      }\r\n      if (pad) {\r\n          if (bits > 0) {\r\n              ret.push((acc << (toWidth - bits)) & maxv);\r\n          }\r\n      }\r\n      else if (bits >= fromWidth || (acc << (toWidth - bits)) & maxv) {\r\n          return null;\r\n      }\r\n      return Buffer.from(ret);\r\n  };\r\n  /**\r\n   * toBech32Address\r\n   *\r\n   * Encodes a canonical 20-byte Ethereum-style address as a bech32 zilliqa\r\n   * address.\r\n   *\r\n   * The expected format is zil1<address><checksum> where address and checksum\r\n   * are the result of bech32 encoding a Buffer containing the address bytes.\r\n   *\r\n   * @param {string} 20 byte canonical address\r\n   * @returns {string} 38 char bech32 encoded zilliqa address\r\n   */\r\n  var toBech32Address = function (address) {\r\n      if (!util.validation.isAddress(address)) {\r\n          throw new Error('Invalid address format.');\r\n      }\r\n      var addrBz = convertBits(Buffer.from(address.replace('0x', ''), 'hex'), 8, 5);\r\n      if (addrBz === null) {\r\n          throw new Error('Could not convert byte Buffer to 5-bit Buffer');\r\n      }\r\n      return encode(HRP, addrBz);\r\n  };\r\n  /**\r\n   * fromBech32Address\r\n   *\r\n   * @param {string} address - a valid Zilliqa bech32 address\r\n   * @returns {string} a canonical 20-byte Ethereum-style address\r\n   */\r\n  var fromBech32Address = function (address) {\r\n      var res = decode(address);\r\n      if (res === null) {\r\n          throw new Error('Invalid bech32 address');\r\n      }\r\n      var hrp = res.hrp, data = res.data;\r\n      var shouldBe = HRP;\r\n      if (hrp !== shouldBe) {\r\n          throw new Error(\"Expected hrp to be \" + shouldBe + \" but got \" + hrp);\r\n      }\r\n      var buf = convertBits(data, 5, 8, false);\r\n      if (buf === null) {\r\n          throw new Error('Could not convert buffer to bytes');\r\n      }\r\n      return toChecksumAddress(buf.toString('hex'));\r\n  };\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var secp256k1$1 = elliptic.ec('secp256k1');\r\n  /**\r\n   * getAddressFromPrivateKey\r\n   *\r\n   * takes a hex-encoded string (private key) and returns its corresponding\r\n   * 20-byte hex-encoded address.\r\n   *\r\n   * @param {string} privateKey\r\n   * @returns {string}\r\n   */\r\n  var getAddressFromPrivateKey = function (privateKey) {\r\n      var normalizedPrviateKey = normalizePrivateKey(privateKey);\r\n      var keyPair = secp256k1$1.keyFromPrivate(normalizedPrviateKey, 'hex');\r\n      var pub = keyPair.getPublic(true, 'hex');\r\n      return toChecksumAddress(hashjs\r\n          .sha256()\r\n          .update(pub, 'hex')\r\n          .digest('hex')\r\n          .slice(24));\r\n  };\r\n  /**\r\n   * getPubKeyFromPrivateKey\r\n   *\r\n   * takes a hex-encoded string (private key) and returns its corresponding\r\n   * hex-encoded 33-byte public key.\r\n   *\r\n   * @param {string} privateKey\r\n   * @returns {string}\r\n   */\r\n  var getPubKeyFromPrivateKey = function (privateKey) {\r\n      var normalizedPrviateKey = normalizePrivateKey(privateKey);\r\n      var keyPair = secp256k1$1.keyFromPrivate(normalizedPrviateKey, 'hex');\r\n      return keyPair.getPublic(true, 'hex');\r\n  };\r\n  /**\r\n   * getAccountFrom0xPrivateKey\r\n   *\r\n   * Utility method for recovering account from 0x private key.\r\n   * See https://github.com/Zilliqa/Zilliqa-JavaScript-Library/pull/159\r\n   * @param privateKeyWith0x : private key with 0x prefix\r\n   */\r\n  var getAccountFrom0xPrivateKey = function (privateKeyWith0x) {\r\n      var privateKeyWithout0x = normalizePrivateKey(privateKeyWith0x);\r\n      var keyPair = secp256k1$1.keyFromPrivate(privateKeyWith0x, 'hex');\r\n      var publicKeyWith0x = keyPair.getPublic(true, 'hex');\r\n      var addressWith0x = getAddressFromPublicKey(publicKeyWith0x);\r\n      var bech32With0x = toBech32Address(addressWith0x);\r\n      var with0x = {\r\n          prv: privateKeyWith0x,\r\n          pub: publicKeyWith0x,\r\n          addr: addressWith0x,\r\n          bech32: bech32With0x,\r\n      };\r\n      var keyPair2 = secp256k1$1.keyFromPrivate(privateKeyWithout0x, 'hex');\r\n      var publicKeyWithout0x = keyPair2.getPublic(true, 'hex');\r\n      var addressWithout0x = getAddressFromPublicKey(publicKeyWithout0x);\r\n      var bech32Without0x = toBech32Address(addressWithout0x);\r\n      var without0x = {\r\n          prv: privateKeyWithout0x,\r\n          pub: publicKeyWithout0x,\r\n          addr: addressWithout0x,\r\n          bech32: bech32Without0x,\r\n      };\r\n      var privateKeyAfterChange = keyPair.getPrivate('hex');\r\n      var publicKeyAfterChange = keyPair.getPublic(true, 'hex');\r\n      var addressAfterChange = getAddressFromPublicKey(publicKeyAfterChange);\r\n      var bech32AfterChange = toBech32Address(addressAfterChange);\r\n      var changed = {\r\n          prv: privateKeyAfterChange,\r\n          pub: publicKeyAfterChange,\r\n          addr: addressAfterChange,\r\n          bech32: bech32AfterChange,\r\n      };\r\n      return {\r\n          with0x: with0x,\r\n          without0x: without0x,\r\n          changed: changed,\r\n      };\r\n  };\r\n  /**\r\n   * compressPublicKey\r\n   *\r\n   * @param {string} publicKey - 65-byte public key, a point (x, y)\r\n   *\r\n   * @returns {string}\r\n   */\r\n  var compressPublicKey = function (publicKey) {\r\n      return secp256k1$1.keyFromPublic(publicKey, 'hex').getPublic(true, 'hex');\r\n  };\r\n  /**\r\n   * getAddressFromPublicKey\r\n   *\r\n   * takes hex-encoded string and returns the corresponding address\r\n   *\r\n   * @param {string} pubKey\r\n   * @returns {string}\r\n   */\r\n  var getAddressFromPublicKey = function (publicKey) {\r\n      return toChecksumAddress(hashjs\r\n          .sha256()\r\n          .update(publicKey, 'hex')\r\n          .digest('hex')\r\n          .slice(24));\r\n  };\r\n  /**\r\n   * toChecksumAddress\r\n   *\r\n   * takes hex-encoded string and returns the corresponding address\r\n   *\r\n   * @param {string} address\r\n   * @returns {string}\r\n   */\r\n  var toChecksumAddress = function (address) {\r\n      if (!util.validation.isAddress(address)) {\r\n          throw new Error(address + \" is not a valid base 16 address\");\r\n      }\r\n      address = address.toLowerCase().replace('0x', '');\r\n      var hash = hashjs\r\n          .sha256()\r\n          .update(address, 'hex')\r\n          .digest('hex');\r\n      var v = new util.BN(hash, 'hex', 'be');\r\n      var ret = '0x';\r\n      for (var i = 0; i < address.length; i++) {\r\n          if ('0123456789'.indexOf(address[i]) !== -1) {\r\n              ret += address[i];\r\n          }\r\n          else {\r\n              ret += v.and(new util.BN(2).pow(new util.BN(255 - 6 * i))).gte(new util.BN(1))\r\n                  ? address[i].toUpperCase()\r\n                  : address[i].toLowerCase();\r\n          }\r\n      }\r\n      return ret;\r\n  };\r\n  /**\r\n   * isValidChecksumAddress\r\n   *\r\n   * takes hex-encoded string and returns boolean if address is checksumed\r\n   *\r\n   * @param {string} address\r\n   * @returns {boolean}\r\n   */\r\n  var isValidChecksumAddress = function (address) {\r\n      return (util.validation.isAddress(address.replace('0x', '')) &&\r\n          toChecksumAddress(address) === address);\r\n  };\r\n  /**\r\n   * normaliseAddress\r\n   *\r\n   * takes in a base16 address or a zilliqa bech32 encoded address\r\n   * and returns a checksum base16 address. If the address is neither a base16\r\n   * nor bech32 address, the code will return an error\r\n   * @param {string)} address\r\n   * @returns {string}\r\n   */\r\n  var normaliseAddress = function (address) {\r\n      if (util.validation.isBech32(address)) {\r\n          return fromBech32Address(address);\r\n      }\r\n      if (!isValidChecksumAddress(address)) {\r\n          throw Error('Wrong address format, should be either bech32 or checksummed address');\r\n      }\r\n      return address;\r\n  };\r\n  /**\r\n   * encodeBase58\r\n   *\r\n   * @param {string} hex - base 16 encoded string\r\n   * @returns {string} - big endian base 58 encoded string\r\n   */\r\n  var encodeBase58 = function (hex) {\r\n      var clean = hex.toLowerCase().replace('0x', '');\r\n      var tbl = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\r\n      var base = new util.BN(58);\r\n      var zero = new util.BN(0);\r\n      var x = new util.BN(clean, 16);\r\n      var res = '';\r\n      while (x.gt(zero)) {\r\n          var rem = x.mod(base).toNumber(); // safe, always < 58\r\n          // big endian\r\n          res = tbl[rem] + res;\r\n          // quotient, remainders thrown away in integer division\r\n          x = x.div(base);\r\n      }\r\n      // convert to big endian in case the input hex is little endian\r\n      var hexBE = x.toString('hex', clean.length);\r\n      for (var i = 0; i < hexBE.length; i += 2) {\r\n          if (hex[i] === '0' && hex[i + 1] === '0') {\r\n              res = tbl[0] + res;\r\n          }\r\n          else {\r\n              break;\r\n          }\r\n      }\r\n      return res;\r\n  };\r\n  /**\r\n   * decodeBase58\r\n   *\r\n   * @param {string} raw - base 58 string\r\n   * @returns {string} - big endian base 16 string\r\n   */\r\n  var decodeBase58 = function (raw) {\r\n      var tbl = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz';\r\n      var base = new util.BN(58);\r\n      var zero = new util.BN(0);\r\n      var isBreak = false;\r\n      var n = new util.BN(0);\r\n      var leader = '';\r\n      for (var i = 0; i < raw.length; i++) {\r\n          var char = raw.charAt(i);\r\n          var weight = new util.BN(tbl.indexOf(char));\r\n          n = n.mul(base).add(weight);\r\n          // check if padding required\r\n          if (!isBreak) {\r\n              if (i - 1 > 0 && raw[i - 1] !== '1') {\r\n                  isBreak = true;\r\n                  continue;\r\n              }\r\n              if (char === '1') {\r\n                  leader += '00';\r\n              }\r\n          }\r\n      }\r\n      if (n.eq(zero)) {\r\n          return leader;\r\n      }\r\n      var res = leader + n.toString('hex');\r\n      if (res.length % 2 !== 0) {\r\n          res = '0' + res;\r\n      }\r\n      return res;\r\n  };\r\n  /**\r\n   * verifyPrivateKey\r\n   *\r\n   * @param {string|Buffer} privateKey\r\n   * @returns {boolean}\r\n   */\r\n  var verifyPrivateKey = function (privateKey) {\r\n      var keyPair = secp256k1$1.keyFromPrivate(privateKey, 'hex');\r\n      var result = keyPair.validate().result;\r\n      return result;\r\n  };\r\n  /**\r\n   * normalizePrivateKey : normalise private key from 0x or without 0x prefix\r\n   *\r\n   * @param {string} privateKey\r\n   * @returns {string}\r\n   */\r\n  var normalizePrivateKey = function (privateKey) {\r\n      try {\r\n          if (!util.validation.isPrivateKey(privateKey)) {\r\n              throw new Error('Private key is not correct');\r\n          }\r\n          var normalized = privateKey.toLowerCase().replace('0x', '');\r\n          if (!verifyPrivateKey(normalized)) {\r\n              throw new Error('Private key is not correct');\r\n          }\r\n          return normalized;\r\n      }\r\n      catch (error) {\r\n          throw error;\r\n      }\r\n  };\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n\r\n  function __awaiter(thisArg, _arguments, P, generator) {\r\n      return new (P || (P = Promise))(function (resolve, reject) {\r\n          function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n          function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n          function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n          step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n      });\r\n  }\r\n\r\n  function __generator(thisArg, body) {\r\n      var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n      return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n      function verb(n) { return function (v) { return step([n, v]); }; }\r\n      function step(op) {\r\n          if (f) throw new TypeError(\"Generator is already executing.\");\r\n          while (_) try {\r\n              if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n              if (y = 0, t) op = [op[0] & 2, t.value];\r\n              switch (op[0]) {\r\n                  case 0: case 1: t = op; break;\r\n                  case 4: _.label++; return { value: op[1], done: false };\r\n                  case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                  case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                  default:\r\n                      if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                      if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                      if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                      if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                      if (t[2]) _.ops.pop();\r\n                      _.trys.pop(); continue;\r\n              }\r\n              op = body.call(thisArg, _);\r\n          } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n          if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n      }\r\n  }\n\n  var js = scryptsy;\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var ALGO_IDENTIFIER = 'aes-128-ctr';\r\n  /**\r\n   * getDerivedKey\r\n   *\r\n   * NOTE: only scrypt and pbkdf2 are supported.\r\n   *\r\n   * @param {Buffer} key - the passphrase\r\n   * @param {KDF} kdf - the key derivation function to be used\r\n   * @param {KDFParams} params - params for the kdf\r\n   *\r\n   * @returns {Promise<Buffer>}\r\n   */\r\n  function getDerivedKey(key, kdf, params) {\r\n      return __awaiter(this, void 0, void 0, function () {\r\n          var salt, _a, c, dklen, _b, n, r, p, dklen;\r\n          return __generator(this, function (_c) {\r\n              salt = Buffer.from(params.salt, 'hex');\r\n              if (kdf === 'pbkdf2') {\r\n                  _a = params, c = _a.c, dklen = _a.dklen;\r\n                  return [2 /*return*/, pbkdf2.pbkdf2Sync(key, salt, c, dklen, 'sha256')];\r\n              }\r\n              if (kdf === 'scrypt') {\r\n                  _b = params, n = _b.n, r = _b.r, p = _b.p, dklen = _b.dklen;\r\n                  return [2 /*return*/, js(key, salt, n, r, p, dklen)];\r\n              }\r\n              throw new Error('Only pbkdf2 and scrypt are supported');\r\n          });\r\n      });\r\n  }\r\n  /**\r\n   * encryptPrivateKey\r\n   *\r\n   * Encodes and encrypts an account in the format specified by\r\n   * https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition.\r\n   * However, note that, in keeping with the hash function used by Zilliqa's\r\n   * core protocol, the MAC is generated using sha256 instead of keccak.\r\n   *\r\n   * NOTE: only scrypt and pbkdf2 are supported.\r\n   *\r\n   * @param {KDF} kdf - the key derivation function to be used\r\n   * @param {string} privateKey - hex-encoded private key\r\n   * @param {string} passphrase - a passphrase used for encryption\r\n   *\r\n   * @returns {Promise<string>}\r\n   */\r\n  var encryptPrivateKey = function (kdf, privateKey, passphrase) { return __awaiter(void 0, void 0, void 0, function () {\r\n      var address, salt, iv, kdfparams, derivedKey, cipher, ciphertext;\r\n      return __generator(this, function (_a) {\r\n          switch (_a.label) {\r\n              case 0:\r\n                  address = getAddressFromPrivateKey(privateKey);\r\n                  salt = randomBytes(32);\r\n                  iv = Buffer.from(randomBytes(16), 'hex');\r\n                  kdfparams = {\r\n                      salt: salt,\r\n                      n: 8192,\r\n                      c: 262144,\r\n                      r: 8,\r\n                      p: 1,\r\n                      dklen: 32,\r\n                  };\r\n                  return [4 /*yield*/, getDerivedKey(Buffer.from(passphrase), kdf, kdfparams)];\r\n              case 1:\r\n                  derivedKey = _a.sent();\r\n                  cipher = new aes.ModeOfOperation.ctr(derivedKey.slice(0, 16), new aes.Counter(iv));\r\n                  ciphertext = Buffer.from(cipher.encrypt(Buffer.from(privateKey, 'hex')));\r\n                  return [2 /*return*/, JSON.stringify({\r\n                          address: address,\r\n                          crypto: {\r\n                              cipher: ALGO_IDENTIFIER,\r\n                              cipherparams: {\r\n                                  iv: iv.toString('hex'),\r\n                              },\r\n                              ciphertext: ciphertext.toString('hex'),\r\n                              kdf: kdf,\r\n                              kdfparams: kdfparams,\r\n                              mac: hashjs\r\n                                  // @ts-ignore\r\n                                  .hmac(hashjs.sha256, derivedKey, 'hex')\r\n                                  .update(Buffer.concat([\r\n                                  derivedKey.slice(16, 32),\r\n                                  ciphertext,\r\n                                  iv,\r\n                                  Buffer.from(ALGO_IDENTIFIER),\r\n                              ]), 'hex')\r\n                                  .digest('hex'),\r\n                          },\r\n                          id: uuid.v4({ random: util.bytes.hexToIntArray(randomBytes(16)) }),\r\n                          version: 3,\r\n                      })];\r\n          }\r\n      });\r\n  }); };\r\n  /**\r\n   * decryptPrivateKey\r\n   *\r\n   * Recovers the private key from a keystore file using the given passphrase.\r\n   *\r\n   * @param {string} passphrase\r\n   * @param {KeystoreV3} keystore\r\n   * @returns {Promise<string>}\r\n   */\r\n  var decryptPrivateKey = function (passphrase, keystore) { return __awaiter(void 0, void 0, void 0, function () {\r\n      var ciphertext, iv, kdfparams, derivedKey, mac, cipher;\r\n      return __generator(this, function (_a) {\r\n          switch (_a.label) {\r\n              case 0:\r\n                  ciphertext = Buffer.from(keystore.crypto.ciphertext, 'hex');\r\n                  iv = Buffer.from(keystore.crypto.cipherparams.iv, 'hex');\r\n                  kdfparams = keystore.crypto.kdfparams;\r\n                  return [4 /*yield*/, getDerivedKey(Buffer.from(passphrase), keystore.crypto.kdf, kdfparams)];\r\n              case 1:\r\n                  derivedKey = _a.sent();\r\n                  mac = hashjs\r\n                      // @ts-ignore\r\n                      .hmac(hashjs.sha256, derivedKey, 'hex')\r\n                      .update(Buffer.concat([\r\n                      derivedKey.slice(16, 32),\r\n                      ciphertext,\r\n                      iv,\r\n                      Buffer.from(ALGO_IDENTIFIER),\r\n                  ]), 'hex')\r\n                      .digest('hex');\r\n                  // we need to do a byte-by-byte comparison to avoid non-constant time side\r\n                  // channel attacks.\r\n                  if (!util.bytes.isEqual(mac.toUpperCase(), keystore.crypto.mac.toUpperCase())) {\r\n                      return [2 /*return*/, Promise.reject('Failed to decrypt.')];\r\n                  }\r\n                  cipher = new aes.ModeOfOperation.ctr(derivedKey.slice(0, 16), new aes.Counter(iv));\r\n                  return [2 /*return*/, Buffer.from(cipher.decrypt(ciphertext)).toString('hex')];\r\n          }\r\n      });\r\n  }); };\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  /**\r\n   * sign\r\n   *\r\n   * @param {string} hash - hex-encoded hash of the data to be signed\r\n   *\r\n   * @returns {string} the signature\r\n   */\r\n  var sign$1 = function (msg, privateKey, pubKey) {\r\n      var sig = sign(msg, Buffer.from(privateKey, 'hex'), Buffer.from(pubKey, 'hex'));\r\n      var r = sig.r.toString('hex');\r\n      var s = sig.s.toString('hex');\r\n      while (r.length < 64) {\r\n          r = '0' + r;\r\n      }\r\n      while (s.length < 64) {\r\n          s = '0' + s;\r\n      }\r\n      return r + s;\r\n  };\n\n  exports.sign = sign$1;\n  exports.schnorr = schnorr;\n  exports.getAddressFromPrivateKey = getAddressFromPrivateKey;\n  exports.getPubKeyFromPrivateKey = getPubKeyFromPrivateKey;\n  exports.getAccountFrom0xPrivateKey = getAccountFrom0xPrivateKey;\n  exports.compressPublicKey = compressPublicKey;\n  exports.getAddressFromPublicKey = getAddressFromPublicKey;\n  exports.toChecksumAddress = toChecksumAddress;\n  exports.isValidChecksumAddress = isValidChecksumAddress;\n  exports.normaliseAddress = normaliseAddress;\n  exports.encodeBase58 = encodeBase58;\n  exports.decodeBase58 = decodeBase58;\n  exports.verifyPrivateKey = verifyPrivateKey;\n  exports.normalizePrivateKey = normalizePrivateKey;\n  exports.encryptPrivateKey = encryptPrivateKey;\n  exports.decryptPrivateKey = decryptPrivateKey;\n  exports.randomBytes = randomBytes;\n  exports.Signature = Signature;\n  exports.encode = encode;\n  exports.decode = decode;\n  exports.HRP = HRP;\n  exports.convertBits = convertBits;\n  exports.toBech32Address = toBech32Address;\n  exports.fromBech32Address = fromBech32Address;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=index.umd.js.map\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('bn.js'), require('long')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'bn.js', 'long'], factory) :\n  (factory((global.zjsUtil = {}),global.bn.js,global.long));\n}(this, (function (exports,BN,Long) { 'use strict';\n\n  BN = BN && BN.hasOwnProperty('default') ? BN['default'] : BN;\n  Long = Long && Long.hasOwnProperty('default') ? Long['default'] : Long;\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  //\r\n  //  This program is free software: you can redistribute it and/or modify\r\n  //  it under the terms of the GNU General Public License as published by\r\n  //  the Free Software Foundation, either version 3 of the License, or\r\n  //  (at your option) any later version.\r\n  //\r\n  //   This program is distributed in the hope that it will be useful,\r\n  //   but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  //   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  //   GNU General Public License for more details.\r\n  //\r\n  //   You should have received a copy of the GNU General Public License\r\n  //   along with this program.  If not, see <https://www.gnu.org/licenses/>.\r\n  /**\r\n   * intToHexArray\r\n   *\r\n   * @param {number} int - the number to be converted to hex\r\n   * @param {number)} size - the desired width of the hex value. will pad.\r\n   *\r\n   * @returns {string[]}\r\n   */\r\n  var intToHexArray = function (int, size) {\r\n      var hex = [];\r\n      var hexRep = [];\r\n      var hexVal = int.toString(16);\r\n      // TODO: this really needs to be refactored.\r\n      for (var i = 0; i < hexVal.length; i++) {\r\n          hexRep[i] = hexVal[i].toString();\r\n      }\r\n      for (var i = 0; i < size - hexVal.length; i++) {\r\n          hex.push('0');\r\n      }\r\n      for (var i = 0; i < hexVal.length; i++) {\r\n          hex.push(hexRep[i]);\r\n      }\r\n      return hex;\r\n  };\r\n  /**\r\n   * intToByteArray\r\n   *\r\n   * Converts a number to Uint8Array\r\n   *\r\n   * @param {number} num\r\n   * @param {number} size\r\n   *\r\n   * @returns {Uint8Array}\r\n   */\r\n  var intToByteArray = function (num, size) {\r\n      var x = num;\r\n      var res = [];\r\n      while (x > 0) {\r\n          res.push(x & 255);\r\n          x = x >> 8;\r\n      }\r\n      var pad = size - res.length;\r\n      for (var i = 0; i < pad; i++) {\r\n          res.unshift(0);\r\n      }\r\n      return Uint8Array.from(res);\r\n  };\r\n  /**\r\n   * hexToByteArray\r\n   *\r\n   * Convers a hex string to a Uint8Array\r\n   *\r\n   * @param {string} hex\r\n   * @returns {Uint8Array}\r\n   */\r\n  var hexToByteArray = function (hex) {\r\n      var res = new Uint8Array(hex.length / 2);\r\n      for (var i = 0; i < hex.length; i += 2) {\r\n          res[i / 2] = parseInt(hex.substring(i, i + 2), 16);\r\n      }\r\n      return res;\r\n  };\r\n  /**\r\n   * hexToIntArray\r\n   *\r\n   * @param {string} hex\r\n   * @returns {number[]}\r\n   */\r\n  var hexToIntArray = function (hex) {\r\n      if (!hex || !isHex(hex)) {\r\n          return [];\r\n      }\r\n      var res = [];\r\n      for (var i = 0; i < hex.length; i++) {\r\n          var c = hex.charCodeAt(i);\r\n          var hi = c >> 8;\r\n          var lo = c & 0xff;\r\n          hi ? res.push(hi, lo) : res.push(lo);\r\n      }\r\n      return res;\r\n  };\r\n  /**\r\n   * pack\r\n   *\r\n   * Takes two 16-bit integers and combines them. Used to compute version.\r\n   *\r\n   * @param {number} a\r\n   * @param {number} b\r\n   *\r\n   * @returns {number} - a 32-bit number\r\n   */\r\n  var pack = function (a, b) {\r\n      if (a >> 16 > 0 || b >> 16 > 0) {\r\n          throw new Error('Both a and b must be 16 bits or less');\r\n      }\r\n      return (a << 16) + b;\r\n  };\r\n  /**\r\n   * compareBytes\r\n   *\r\n   * A constant time HMAC comparison function.\r\n   *\r\n   * @param {string} a\r\n   * @param {string} b\r\n   * @returns {boolean}\r\n   */\r\n  var isEqual = function (a, b) {\r\n      var bzA = hexToIntArray(a);\r\n      var bzB = hexToIntArray(b);\r\n      if (bzA.length !== bzB.length) {\r\n          return false;\r\n      }\r\n      var result = 0;\r\n      for (var i = 0; i < bzA.length; i++) {\r\n          result |= bzA[i] ^ bzB[i];\r\n      }\r\n      return result === 0;\r\n  };\r\n  /**\r\n   * isHex\r\n   *\r\n   * @param {string} str - string to be tested\r\n   * @returns {boolean}\r\n   */\r\n  var isHex = function (str) {\r\n      var plain = str.replace('0x', '');\r\n      return /[0-9a-f]*$/i.test(plain);\r\n  };\n\n  var bytes = /*#__PURE__*/Object.freeze({\n    intToHexArray: intToHexArray,\n    intToByteArray: intToByteArray,\n    hexToByteArray: hexToByteArray,\n    hexToIntArray: hexToIntArray,\n    pack: pack,\n    isEqual: isEqual,\n    isHex: isHex\n  });\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n\r\n  function __values(o) {\r\n      var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n      if (m) return m.call(o);\r\n      return {\r\n          next: function () {\r\n              if (o && i >= o.length) o = void 0;\r\n              return { value: o && o[i++], done: !o };\r\n          }\r\n      };\r\n  }\r\n\r\n  function __read(o, n) {\r\n      var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n      if (!m) return o;\r\n      var i = m.call(o), r, ar = [], e;\r\n      try {\r\n          while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n      }\r\n      catch (error) { e = { error: error }; }\r\n      finally {\r\n          try {\r\n              if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n          }\r\n          finally { if (e) throw e.error; }\r\n      }\r\n      return ar;\r\n  }\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var isAddress = function (address) {\r\n      return isByteString(address, 40);\r\n  };\r\n  var isBech32 = function (raw) {\r\n      return !!raw.match(/^zil1[qpzry9x8gf2tvdw0s3jn54khce6mua7l]{38}/);\r\n  };\r\n  var isBase58 = function (raw) {\r\n      return !!raw.match(/^[1-9ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]+$/);\r\n  };\r\n  var isPrivateKey = function (privateKey) {\r\n      return isByteString(privateKey, 64);\r\n  };\r\n  var isPubKey = function (pubKey) {\r\n      return isByteString(pubKey, 66);\r\n  };\r\n  var isSignature = function (sig) {\r\n      return isByteString(sig, 128);\r\n  };\r\n  var isByteString = function (str, len) {\r\n      return !!str.replace('0x', '').match(\"^[0-9a-fA-F]{\" + len + \"}$\");\r\n  };\r\n  var isNumber = function (x) {\r\n      return typeof x === 'number';\r\n  };\r\n  var isBN = function (x) {\r\n      return BN.isBN(x);\r\n  };\r\n  var isLong = function (x) {\r\n      return Long.isLong(x);\r\n  };\r\n  var isString = function (x) {\r\n      return typeof x === 'string';\r\n  };\r\n  var isPlainObject = function (x) {\r\n      if (typeof x === 'object' && x !== null) {\r\n          var proto = Object.getPrototypeOf(x);\r\n          return proto === Object.prototype || proto === null;\r\n      }\r\n      return false;\r\n  };\r\n  var PRAGMA_REQUIRED = '@@ZJS_REQUIRED@@';\r\n  var required = function (fn) {\r\n      if (typeof fn === 'function') {\r\n          return Object.defineProperty(fn, 'required', {\r\n              value: PRAGMA_REQUIRED,\r\n          });\r\n      }\r\n      throw new Error('fn is not a function');\r\n  };\r\n  var matchesObject = function (x, test) {\r\n      var e_1, _a;\r\n      if (isPlainObject(x)) {\r\n          for (var key in test) {\r\n              if (test.hasOwnProperty(key)) {\r\n                  try {\r\n                      for (var _b = (e_1 = void 0, __values(test[key])), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                          var tester = _c.value;\r\n                          var value = x[key];\r\n                          if (typeof value === 'undefined' && tester.required) {\r\n                              throw new Error('Key not found: ' + key);\r\n                          }\r\n                          else {\r\n                              continue;\r\n                          }\r\n                          if (typeof tester !== 'function') {\r\n                              throw new Error('Validator is not a function');\r\n                          }\r\n                          if (!tester(value)) {\r\n                              throw new Error('Validation failed for ' + key);\r\n                          }\r\n                      }\r\n                  }\r\n                  catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                  finally {\r\n                      try {\r\n                          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                      }\r\n                      finally { if (e_1) throw e_1.error; }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      return true;\r\n  };\n\n  var validation = /*#__PURE__*/Object.freeze({\n    isAddress: isAddress,\n    isBech32: isBech32,\n    isBase58: isBase58,\n    isPrivateKey: isPrivateKey,\n    isPubKey: isPubKey,\n    isSignature: isSignature,\n    isByteString: isByteString,\n    isNumber: isNumber,\n    isBN: isBN,\n    isLong: isLong,\n    isString: isString,\n    isPlainObject: isPlainObject,\n    required: required,\n    matchesObject: matchesObject\n  });\n\n  //  This file is part of Zilliqa-Javascript-Library.\r\n  var Units;\r\n  (function (Units) {\r\n      Units[\"Zil\"] = \"zil\";\r\n      Units[\"Li\"] = \"li\";\r\n      Units[\"Qa\"] = \"qa\";\r\n  })(Units || (Units = {}));\r\n  var DEFAULT_OPTIONS = {\r\n      pad: false,\r\n  };\r\n  var unitMap = new Map([\r\n      [\"qa\" /* Qa */, '1'],\r\n      [\"li\" /* Li */, '1000000'],\r\n      [\"zil\" /* Zil */, '1000000000000'],\r\n  ]);\r\n  var numToStr = function (input) {\r\n      if (typeof input === 'string') {\r\n          if (!input.match(/^-?[0-9.]+$/)) {\r\n              throw new Error(\"while converting number to string, invalid number value '\" + input + \"', should be a number matching (^-?[0-9.]+).\");\r\n          }\r\n          return input;\r\n      }\r\n      else if (typeof input === 'number') {\r\n          return String(input);\r\n      }\r\n      else if (BN.isBN(input)) {\r\n          return input.toString(10);\r\n      }\r\n      throw new Error(\"while converting number to string, invalid number value '\" + input + \"' type \" + typeof input + \".\");\r\n  };\r\n  var fromQa = function (qa, unit, options) {\r\n      if (options === void 0) { options = DEFAULT_OPTIONS; }\r\n      if (unit === 'qa') {\r\n          return qa.toString(10);\r\n      }\r\n      var baseStr = unitMap.get(unit);\r\n      if (!baseStr) {\r\n          throw new Error(\"No unit of type \" + unit + \" exists.\");\r\n      }\r\n      var base = new BN(baseStr, 10);\r\n      var baseNumDecimals = baseStr.length - 1;\r\n      var fraction = qa\r\n          .abs()\r\n          .mod(base)\r\n          .toString(10);\r\n      // prepend 0s to the fraction half\r\n      while (fraction.length < baseNumDecimals) {\r\n          fraction = \"0\" + fraction;\r\n      }\r\n      if (!options.pad) {\r\n          fraction = (fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1]);\r\n      }\r\n      var whole = qa.div(base).toString(10);\r\n      return fraction === '0' ? \"\" + whole : whole + \".\" + fraction;\r\n  };\r\n  var toQa = function (input, unit) {\r\n      var inputStr = numToStr(input);\r\n      var baseStr = unitMap.get(unit);\r\n      if (!baseStr) {\r\n          throw new Error(\"No unit of type \" + unit + \" exists.\");\r\n      }\r\n      var baseNumDecimals = baseStr.length - 1;\r\n      var base = new BN(baseStr, 10);\r\n      // Is it negative?\r\n      var isNegative = inputStr.substring(0, 1) === '-';\r\n      if (isNegative) {\r\n          inputStr = inputStr.substring(1);\r\n      }\r\n      if (inputStr === '.') {\r\n          throw new Error(\"Cannot convert \" + inputStr + \" to Qa.\");\r\n      }\r\n      // Split it into a whole and fractional part\r\n      var comps = inputStr.split('.'); // eslint-disable-line\r\n      if (comps.length > 2) {\r\n          throw new Error(\"Cannot convert \" + inputStr + \" to Qa.\");\r\n      }\r\n      var _a = __read(comps, 2), whole = _a[0], fraction = _a[1];\r\n      if (!whole) {\r\n          whole = '0';\r\n      }\r\n      if (!fraction) {\r\n          fraction = '0';\r\n      }\r\n      if (fraction.length > baseNumDecimals) {\r\n          throw new Error(\"Cannot convert \" + inputStr + \" to Qa.\");\r\n      }\r\n      while (fraction.length < baseNumDecimals) {\r\n          fraction += '0';\r\n      }\r\n      var wholeBN = new BN(whole);\r\n      var fractionBN = new BN(fraction);\r\n      var wei = wholeBN.mul(base).add(fractionBN); // eslint-disable-line\r\n      if (isNegative) {\r\n          wei = wei.neg();\r\n      }\r\n      return new BN(wei.toString(10), 10);\r\n  };\n\n  var unit = /*#__PURE__*/Object.freeze({\n    get Units () { return Units; },\n    fromQa: fromQa,\n    toQa: toQa\n  });\n\n  //  This file is part of Zilliqa-Javascript-Library.\n\n  exports.BN = BN;\n  exports.Long = Long;\n  exports.bytes = bytes;\n  exports.units = unit;\n  exports.validation = validation;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=index.umd.js.map\n","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","'use strict';\n\n/**\n * Constants.\n */\n\nvar errorMessage;\n\nerrorMessage = 'An argument without append, prepend, ' +\n    'or detach methods was given to `List';\n\n/**\n * Creates a new List: A linked list is a bit like an Array, but\n * knows nothing about how many items are in it, and knows only about its\n * first (`head`) and last (`tail`) items. Each item (e.g. `head`, `tail`,\n * &c.) knows which item comes before or after it (its more like the\n * implementation of the DOM in JavaScript).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of List.\n */\n\nfunction List(/*items...*/) {\n    if (arguments.length) {\n        return List.from(arguments);\n    }\n}\n\nvar ListPrototype;\n\nListPrototype = List.prototype;\n\n/**\n * Creates a new list from the arguments (each a list item) passed in.\n * @name List.of\n * @param {...ListItem} [items] - Zero or more items to attach.\n * @returns {list} - A new instance of List.\n */\n\nList.of = function (/*items...*/) {\n    return List.from.call(this, arguments);\n};\n\n/**\n * Creates a new list from the given array-like object (each a list item)\n * passed in.\n * @name List.from\n * @param {ListItem[]} [items] - The items to append.\n * @returns {list} - A new instance of List.\n */\nList.from = function (items) {\n    var list = new this(), length, iterator, item;\n\n    if (items && (length = items.length)) {\n        iterator = -1;\n\n        while (++iterator < length) {\n            item = items[iterator];\n\n            if (item !== null && item !== undefined) {\n                list.append(item);\n            }\n        }\n    }\n\n    return list;\n};\n\n/**\n * List#head\n * Default to `null`.\n */\nListPrototype.head = null;\n\n/**\n * List#tail\n * Default to `null`.\n */\nListPrototype.tail = null;\n\n/**\n * Returns the list's items as an array. This does *not* detach the items.\n * @name List#toArray\n * @returns {ListItem[]} - An array of (still attached) ListItems.\n */\nListPrototype.toArray = function () {\n    var item = this.head,\n        result = [];\n\n    while (item) {\n        result.push(item);\n        item = item.next;\n    }\n\n    return result;\n};\n\n/**\n * Prepends the given item to the list: Item will be the new first item\n * (`head`).\n * @name List#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\nListPrototype.prepend = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#prepend`.');\n    }\n\n    var self, head;\n\n    // Cache self.\n    self = this;\n\n    // If self has a first item, defer prepend to the first items prepend\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.prepend(item);\n    }\n\n    // ...otherwise, there is no `head` (or `tail`) item yet.\n\n    // Detach the prependee.\n    item.detach();\n\n    // Set the prependees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the prependee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Appends the given item to the list: Item will be the new last item (`tail`)\n * if the list had a first item, and its first item (`head`) otherwise.\n * @name List#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - An instance of ListItem (the given item).\n */\n\nListPrototype.append = function (item) {\n    if (!item) {\n        return false;\n    }\n\n    if (!item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + '#append`.');\n    }\n\n    var self, head, tail;\n\n    // Cache self.\n    self = this;\n\n    // If self has a last item, defer appending to the last items append\n    // method, and return the result.\n    tail = self.tail;\n\n    if (tail) {\n        return tail.append(item);\n    }\n\n    // If self has a first item, defer appending to the first items append\n    // method, and return the result.\n    head = self.head;\n\n    if (head) {\n        return head.append(item);\n    }\n\n    // ...otherwise, there is no `tail` or `head` item yet.\n\n    // Detach the appendee.\n    item.detach();\n\n    // Set the appendees parent list to reference self.\n    item.list = self;\n\n    // Set self's first item to the appendee, and return the item.\n    self.head = item;\n\n    return item;\n};\n\n/**\n * Creates a new ListItem: A linked list item is a bit like DOM node:\n * It knows only about its \"parent\" (`list`), the item before it (`prev`),\n * and the item after it (`next`).\n * @global\n * @private\n * @constructor\n * @class Represents an instance of ListItem.\n */\n\nfunction ListItem() {}\n\nList.Item = ListItem;\n\nvar ListItemPrototype = ListItem.prototype;\n\nListItemPrototype.next = null;\n\nListItemPrototype.prev = null;\n\nListItemPrototype.list = null;\n\n/**\n * Detaches the item operated on from its parent list.\n * @name ListItem#detach\n * @returns {ListItem} - The item operated on.\n */\nListItemPrototype.detach = function () {\n    // Cache self, the parent list, and the previous and next items.\n    var self = this,\n        list = self.list,\n        prev = self.prev,\n        next = self.next;\n\n    // If the item is already detached, return self.\n    if (!list) {\n        return self;\n    }\n\n    // If self is the last item in the parent list, link the lists last item\n    // to the previous item.\n    if (list.tail === self) {\n        list.tail = prev;\n    }\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the next item.\n    if (list.head === self) {\n        list.head = next;\n    }\n\n    // If both the last and first items in the parent list are the same,\n    // remove the link to the last item.\n    if (list.tail === list.head) {\n        list.tail = null;\n    }\n\n    // If a previous item exists, link its next item to selfs next item.\n    if (prev) {\n        prev.next = next;\n    }\n\n    // If a next item exists, link its previous item to selfs previous item.\n    if (next) {\n        next.prev = prev;\n    }\n\n    // Remove links from self to both the next and previous items, and to the\n    // parent list.\n    self.prev = self.next = self.list = null;\n\n    // Return self.\n    return self;\n};\n\n/**\n * Prepends the given item *before* the item operated on.\n * @name ListItem#prepend\n * @param {ListItem} item - The item to prepend.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.prepend = function (item) {\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#prepend`.');\n    }\n\n    // Cache self, the parent list, and the previous item.\n    var self = this,\n        list = self.list,\n        prev = self.prev;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the prependee.\n    item.detach();\n\n    // If self has a previous item...\n    if (prev) {\n        // ...link the prependees previous item, to selfs previous item.\n        item.prev = prev;\n\n        // ...link the previous items next item, to self.\n        prev.next = item;\n    }\n\n    // Set the prependees next item to self.\n    item.next = self;\n\n    // Set the prependees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the previous item of self to the prependee.\n    self.prev = item;\n\n    // If self is the first item in the parent list, link the lists first item\n    // to the prependee.\n    if (self === list.head) {\n        list.head = item;\n    }\n\n    // If the the parent list has no last item, link the lists last item to\n    // self.\n    if (!list.tail) {\n        list.tail = self;\n    }\n\n    // Return the prependee.\n    return item;\n};\n\n/**\n * Appends the given item *after* the item operated on.\n * @name ListItem#append\n * @param {ListItem} item - The item to append.\n * @returns {ListItem} - The item operated on, or false when that item is not\n * attached.\n */\nListItemPrototype.append = function (item) {\n    // If item is falsey, return false.\n    if (!item || !item.append || !item.prepend || !item.detach) {\n        throw new Error(errorMessage + 'Item#append`.');\n    }\n\n    // Cache self, the parent list, and the next item.\n    var self = this,\n        list = self.list,\n        next = self.next;\n\n    // If self is detached, return false.\n    if (!list) {\n        return false;\n    }\n\n    // Detach the appendee.\n    item.detach();\n\n    // If self has a next item...\n    if (next) {\n        // ...link the appendees next item, to selfs next item.\n        item.next = next;\n\n        // ...link the next items previous item, to the appendee.\n        next.prev = item;\n    }\n\n    // Set the appendees previous item to self.\n    item.prev = self;\n\n    // Set the appendees parent list to selfs parent list.\n    item.list = list;\n\n    // Set the next item of self to the appendee.\n    self.next = item;\n\n    // If the the parent list has no last item or if self is the parent lists\n    // last item, link the lists last item to the appendee.\n    if (self === list.tail || !list.tail) {\n        list.tail = item;\n    }\n\n    // Return the appendee.\n    return item;\n};\n\n/**\n * Expose `List`.\n */\n\nmodule.exports = List;\n","'use strict';\n\nmodule.exports = require('./_source/linked-list.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      <h1>Zilliqa Balance</h1>\\n      <span><img src=\\\"/assets/icon/logo.png\\\" alt=\\\"Logo\\\" id=\\\"logo\\\"> <p>{{balance}}</p></span>\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <div id=\\\"container\\\">\\n    <div id=\\\"menuButtons\\\">\\n      <ion-button (click)=\\\"openSettings()\\\"><ion-icon name=\\\"settings-outline\\\"></ion-icon>Settings</ion-button>\\n      <ion-button (click)=\\\"updateWalletData()\\\"><ion-icon name=\\\"refresh-outline\\\" class=\\\"{{updateData ? 'rotate': ''}}\\\"></ion-icon>Refresh</ion-button>\\n    </div>\\n    <div id=\\\"transactionButtonsContainer\\\" class=\\\"{{expandReceiveBox ? 'expandBox': ''}} {{expandTransactionBox ? 'expandTransactionBox': ''}} {{processingTransaction ? 'expandLoadingBox': ''}}\\\">\\n      <div id=\\\"buttonContainer\\\">\\n        <ion-button (click)=\\\"openSend()\\\" *ngIf=\\\"expandReceiveBox == false && expandTransactionBox == false\\\">Send</ion-button>\\n        <ion-button (click)=\\\"openReceive()\\\" *ngIf=\\\"expandReceiveBox == false && expandTransactionBox == false\\\">Receive</ion-button>\\n\\n        <ion-button (click)=\\\"closeAction()\\\" *ngIf=\\\"expandReceiveBox == true || expandTransactionBox == true\\\">Back</ion-button>\\n        <ion-button (click)=\\\"confirmTransaction()\\\" *ngIf=\\\"expandTransactionBox == true\\\">Confirm</ion-button>\\n      </div>\\n    </div>\\n    <div id=\\\"transactionHistory\\\">\\n      <h2>Recent transactions</h2>\\n      <div *ngFor=\\\"let transaction of transactionHistory\\\" class=\\\"transactionContainer\\\">\\n        <div>\\n          <div class=\\\"transactionIcon\\\">\\n            <ion-icon name=\\\"add-outline\\\" *ngIf=\\\"transaction.direction == 'in'\\\"></ion-icon>\\n            <ion-icon name=\\\"remove-outline\\\" *ngIf=\\\"transaction.direction == 'out'\\\"></ion-icon>\\n          </div>\\n          <div class=\\\"transactionSummary\\\">\\n            <p *ngIf=\\\"transaction.direction == 'in'\\\">{{ transaction.from | slice:0:10}}...{{ transaction.from | slice:31:42}}</p>\\n            <p *ngIf=\\\"transaction.direction == 'out'\\\">{{ transaction.to | slice:0:10}}...{{ transaction.to | slice:31:42}}</p>\\n            <small>{{convertTimestamp(transaction.timestamp)}}</small>\\n          </div>\\n        </div>\\n        <p *ngIf=\\\"transaction.direction == 'in'\\\">+{{ convertQa(transaction.value) }}</p>\\n        <p *ngIf=\\\"transaction.direction == 'out'\\\">-{{ convertQa(transaction.value) }}</p>\\n      </div>\\n    </div>\\n    <div id=\\\"receiveContainer\\\" class=\\\"{{expandReceiveBox ? 'fadeIn': 'fadeOut'}}\\\">\\n      <div id=\\\"addressForm\\\">\\n        <p>Your address</p>\\n        <ion-item (click)=\\\"copyAddress()\\\">\\n          <ion-input>{{walletAddress}}</ion-input>\\n        </ion-item>\\n      </div>\\n    </div>\\n    <div id=\\\"sendContainer\\\" class=\\\"{{expandTransactionBox ? 'fadeIn': 'fadeOut'}}\\\">\\n      <span><img src=\\\"/assets/icon/logo.png\\\" alt=\\\"Logo\\\" id=\\\"logo\\\"> <p>{{sendAmount}} zil</p></span>\\n      <p>New balance: {{ newBalance | number }}</p>\\n      <div id=\\\"sendAmounts\\\">\\n        <ion-button (click)=\\\"increaseSend(100)\\\">100</ion-button>\\n        <ion-button (click)=\\\"increaseSend(1000)\\\">1000</ion-button>\\n        <ion-button (click)=\\\"setCustomSend()\\\">...</ion-button>\\n      </div>\\n      <div id=\\\"addressForm\\\">\\n        <p>Send to address</p>\\n        <ion-item>\\n          <ion-input [(ngModel)]=\\\"sendAddress\\\"></ion-input>\\n        </ion-item>\\n      </div>\\n    </div>\\n    <div id=\\\"loadingTransaction\\\" class=\\\"{{processingTransaction ? 'fadeIn': 'fadeOut'}}\\\">\\n      <ion-spinner></ion-spinner>`\\n      <p>Processing transaction..</p>\\n      <small>Confirmation may take a minute</small>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","var Emitter = require('component-emitter');\n\nvar SCChannel = function (name, client, options) {\n  var self = this;\n\n  Emitter.call(this);\n\n  this.PENDING = 'pending';\n  this.SUBSCRIBED = 'subscribed';\n  this.UNSUBSCRIBED = 'unsubscribed';\n\n  this.name = name;\n  this.state = this.UNSUBSCRIBED;\n  this.client = client;\n\n  this.options = options || {};\n  this.setOptions(this.options);\n};\n\nSCChannel.prototype = Object.create(Emitter.prototype);\n\nSCChannel.prototype.setOptions = function (options) {\n  if (!options) {\n    options = {};\n  }\n  this.waitForAuth = options.waitForAuth || false;\n  this.batch = options.batch || false;\n\n  if (options.data !== undefined) {\n    this.data = options.data;\n  }\n};\n\nSCChannel.prototype.getState = function () {\n  return this.state;\n};\n\nSCChannel.prototype.subscribe = function (options) {\n  this.client.subscribe(this.name, options);\n};\n\nSCChannel.prototype.unsubscribe = function () {\n  this.client.unsubscribe(this.name);\n};\n\nSCChannel.prototype.isSubscribed = function (includePending) {\n  return this.client.isSubscribed(this.name, includePending);\n};\n\nSCChannel.prototype.publish = function (data, callback) {\n  this.client.publish(this.name, data, callback);\n};\n\nSCChannel.prototype.watch = function (handler) {\n  this.client.watch(this.name, handler);\n};\n\nSCChannel.prototype.unwatch = function (handler) {\n  this.client.unwatch(this.name, handler);\n};\n\nSCChannel.prototype.watchers = function () {\n  return this.client.watchers(this.name);\n};\n\nSCChannel.prototype.destroy = function () {\n  this.client.destroyChannel(this.name);\n};\n\nmodule.exports.SCChannel = SCChannel;\n","// Based on https://github.com/dscape/cycle/blob/master/cycle.js\n\nmodule.exports = function decycle(object) {\n// Make a deep copy of an object or array, assuring that there is at most\n// one instance of each object or array in the resulting structure. The\n// duplicate references (which might be forming cycles) are replaced with\n// an object of the form\n//      {$ref: PATH}\n// where the PATH is a JSONPath string that locates the first occurance.\n// So,\n//      var a = [];\n//      a[0] = a;\n//      return JSON.stringify(JSON.decycle(a));\n// produces the string '[{\"$ref\":\"$\"}]'.\n\n// JSONPath is used to locate the unique object. $ indicates the top level of\n// the object or array. [NUMBER] or [STRING] indicates a child member or\n// property.\n\n    var objects = [],   // Keep a reference to each unique object or array\n        paths = [];     // Keep the path to each unique object or array\n\n    return (function derez(value, path) {\n\n// The derez recurses through the object, producing the deep copy.\n\n        var i,          // The loop counter\n            name,       // Property name\n            nu;         // The new object or array\n\n// typeof null === 'object', so go on if this value is really an object but not\n// one of the weird builtin objects.\n\n        if (typeof value === 'object' && value !== null &&\n                !(value instanceof Boolean) &&\n                !(value instanceof Date)    &&\n                !(value instanceof Number)  &&\n                !(value instanceof RegExp)  &&\n                !(value instanceof String)) {\n\n// If the value is an object or array, look to see if we have already\n// encountered it. If so, return a $ref/path object. This is a hard way,\n// linear search that will get slower as the number of unique objects grows.\n\n            for (i = 0; i < objects.length; i += 1) {\n                if (objects[i] === value) {\n                    return {$ref: paths[i]};\n                }\n            }\n\n// Otherwise, accumulate the unique value and its path.\n\n            objects.push(value);\n            paths.push(path);\n\n// If it is an array, replicate the array.\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n                nu = [];\n                for (i = 0; i < value.length; i += 1) {\n                    nu[i] = derez(value[i], path + '[' + i + ']');\n                }\n            } else {\n\n// If it is an object, replicate the object.\n\n                nu = {};\n                for (name in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, name)) {\n                        nu[name] = derez(value[name],\n                            path + '[' + JSON.stringify(name) + ']');\n                    }\n                }\n            }\n            return nu;\n        }\n        return value;\n    }(object, '$'));\n};\n","var decycle = require('./decycle');\n\nvar isStrict = (function () { return !this; })();\n\nfunction AuthTokenExpiredError(message, expiry) {\n  this.name = 'AuthTokenExpiredError';\n  this.message = message;\n  this.expiry = expiry;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenExpiredError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenInvalidError(message) {\n  this.name = 'AuthTokenInvalidError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenInvalidError.prototype = Object.create(Error.prototype);\n\n\nfunction AuthTokenNotBeforeError(message, date) {\n  this.name = 'AuthTokenNotBeforeError';\n  this.message = message;\n  this.date = date;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenNotBeforeError.prototype = Object.create(Error.prototype);\n\n\n// For any other auth token error.\nfunction AuthTokenError(message) {\n  this.name = 'AuthTokenError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthTokenError.prototype = Object.create(Error.prototype);\n\n// For any other auth error; not specifically related to the auth token itself.\nfunction AuthError(message) {\n  this.name = 'AuthError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nAuthError.prototype = Object.create(Error.prototype);\n\n\nfunction SilentMiddlewareBlockedError(message, type) {\n  this.name = 'SilentMiddlewareBlockedError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSilentMiddlewareBlockedError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidActionError(message) {\n  this.name = 'InvalidActionError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidActionError.prototype = Object.create(Error.prototype);\n\nfunction InvalidArgumentsError(message) {\n  this.name = 'InvalidArgumentsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidArgumentsError.prototype = Object.create(Error.prototype);\n\nfunction InvalidOptionsError(message) {\n  this.name = 'InvalidOptionsError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidOptionsError.prototype = Object.create(Error.prototype);\n\n\nfunction InvalidMessageError(message) {\n  this.name = 'InvalidMessageError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nInvalidMessageError.prototype = Object.create(Error.prototype);\n\n\nfunction SocketProtocolError(message, code) {\n  this.name = 'SocketProtocolError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nSocketProtocolError.prototype = Object.create(Error.prototype);\n\n\nfunction ServerProtocolError(message) {\n  this.name = 'ServerProtocolError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nServerProtocolError.prototype = Object.create(Error.prototype);\n\nfunction HTTPServerError(message) {\n  this.name = 'HTTPServerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nHTTPServerError.prototype = Object.create(Error.prototype);\n\n\nfunction ResourceLimitError(message) {\n  this.name = 'ResourceLimitError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nResourceLimitError.prototype = Object.create(Error.prototype);\n\n\nfunction TimeoutError(message) {\n  this.name = 'TimeoutError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nTimeoutError.prototype = Object.create(Error.prototype);\n\n\nfunction BadConnectionError(message, type) {\n  this.name = 'BadConnectionError';\n  this.message = message;\n  this.type = type;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBadConnectionError.prototype = Object.create(Error.prototype);\n\n\nfunction BrokerError(message) {\n  this.name = 'BrokerError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nBrokerError.prototype = Object.create(Error.prototype);\n\n\nfunction ProcessExitError(message, code) {\n  this.name = 'ProcessExitError';\n  this.message = message;\n  this.code = code;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nProcessExitError.prototype = Object.create(Error.prototype);\n\n\nfunction UnknownError(message) {\n  this.name = 'UnknownError';\n  this.message = message;\n  if (Error.captureStackTrace && !isStrict) {\n    Error.captureStackTrace(this, arguments.callee);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\nUnknownError.prototype = Object.create(Error.prototype);\n\n\n// Expose all error types.\n\nmodule.exports = {\n  AuthTokenExpiredError: AuthTokenExpiredError,\n  AuthTokenInvalidError: AuthTokenInvalidError,\n  AuthTokenNotBeforeError: AuthTokenNotBeforeError,\n  AuthTokenError: AuthTokenError,\n  AuthError: AuthError,\n  SilentMiddlewareBlockedError: SilentMiddlewareBlockedError,\n  InvalidActionError: InvalidActionError,\n  InvalidArgumentsError: InvalidArgumentsError,\n  InvalidOptionsError: InvalidOptionsError,\n  InvalidMessageError: InvalidMessageError,\n  SocketProtocolError: SocketProtocolError,\n  ServerProtocolError: ServerProtocolError,\n  HTTPServerError: HTTPServerError,\n  ResourceLimitError: ResourceLimitError,\n  TimeoutError: TimeoutError,\n  BadConnectionError: BadConnectionError,\n  BrokerError: BrokerError,\n  ProcessExitError: ProcessExitError,\n  UnknownError: UnknownError\n};\n\nmodule.exports.socketProtocolErrorStatuses = {\n  1001: 'Socket was disconnected',\n  1002: 'A WebSocket protocol error was encountered',\n  1003: 'Server terminated socket because it received invalid data',\n  1005: 'Socket closed without status code',\n  1006: 'Socket hung up',\n  1007: 'Message format was incorrect',\n  1008: 'Encountered a policy violation',\n  1009: 'Message was too big to process',\n  1010: 'Client ended the connection because the server did not comply with extension requirements',\n  1011: 'Server encountered an unexpected fatal condition',\n  4000: 'Server ping timed out',\n  4001: 'Client pong timed out',\n  4002: 'Server failed to sign auth token',\n  4003: 'Failed to complete handshake',\n  4004: 'Client failed to save auth token',\n  4005: 'Did not receive #handshake from client before timeout',\n  4006: 'Failed to bind socket to message broker',\n  4007: 'Client connection establishment timed out',\n  4008: 'Server rejected handshake from client',\n  4009: 'Server received a message before the client handshake'\n};\n\nmodule.exports.socketProtocolIgnoreStatuses = {\n  1000: 'Socket closed normally',\n  1001: 'Socket hung up'\n};\n\n// Properties related to error domains cannot be serialized.\nvar unserializableErrorProperties = {\n  domain: 1,\n  domainEmitter: 1,\n  domainThrown: 1\n};\n\n// Convert an error into a JSON-compatible type which can later be hydrated\n// back to its *original* form.\nmodule.exports.dehydrateError = function dehydrateError(error, includeStackTrace) {\n  var dehydratedError;\n\n  if (error && typeof error === 'object') {\n    dehydratedError = {\n      message: error.message\n    };\n    if (includeStackTrace) {\n      dehydratedError.stack = error.stack;\n    }\n    for (var i in error) {\n      if (!unserializableErrorProperties[i]) {\n        dehydratedError[i] = error[i];\n      }\n    }\n  } else if (typeof error === 'function') {\n    dehydratedError = '[function ' + (error.name || 'anonymous') + ']';\n  } else {\n    dehydratedError = error;\n  }\n\n  return decycle(dehydratedError);\n};\n\n// Convert a dehydrated error back to its *original* form.\nmodule.exports.hydrateError = function hydrateError(error) {\n  var hydratedError = null;\n  if (error != null) {\n    if (typeof error === 'object') {\n      hydratedError = new Error(error.message);\n      for (var i in error) {\n        if (error.hasOwnProperty(i)) {\n          hydratedError[i] = error[i];\n        }\n      }\n    } else {\n      hydratedError = error;\n    }\n  }\n  return hydratedError;\n};\n\nmodule.exports.decycle = decycle;\n","var base64Chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar validJSONStartRegex = /^[ \\n\\r\\t]*[{\\[]/;\n\nvar arrayBufferToBase64 = function (arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer);\n  var len = bytes.length;\n  var base64 = '';\n\n  for (var i = 0; i < len; i += 3) {\n    base64 += base64Chars[bytes[i] >> 2];\n    base64 += base64Chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += base64Chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += base64Chars[bytes[i + 2] & 63];\n  }\n\n  if ((len % 3) === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n};\n\nvar binaryToBase64Replacer = function (key, value) {\n  if (global.ArrayBuffer && value instanceof global.ArrayBuffer) {\n    return {\n      base64: true,\n      data: arrayBufferToBase64(value)\n    };\n  } else if (global.Buffer) {\n    if (value instanceof global.Buffer){\n      return {\n        base64: true,\n        data: value.toString('base64')\n      };\n    }\n    // Some versions of Node.js convert Buffers to Objects before they are passed to\n    // the replacer function - Because of this, we need to rehydrate Buffers\n    // before we can convert them to base64 strings.\n    if (value && value.type === 'Buffer' && Array.isArray(value.data)) {\n      var rehydratedBuffer;\n      if (global.Buffer.from) {\n        rehydratedBuffer = global.Buffer.from(value.data);\n      } else {\n        rehydratedBuffer = new global.Buffer(value.data);\n      }\n      return {\n        base64: true,\n        data: rehydratedBuffer.toString('base64')\n      };\n    }\n  }\n  return value;\n};\n\n// Decode the data which was transmitted over the wire to a JavaScript Object in a format which SC understands.\n// See encode function below for more details.\nmodule.exports.decode = function (input) {\n  if (input == null) {\n   return null;\n  }\n  // Leave ping or pong message as is\n  if (input === '#1' || input === '#2') {\n    return input;\n  }\n  var message = input.toString();\n\n  // Performance optimization to detect invalid JSON packet sooner.\n  if (!validJSONStartRegex.test(message)) {\n    return message;\n  }\n\n  try {\n    return JSON.parse(message);\n  } catch (err) {}\n  return message;\n};\n\n// Encode a raw JavaScript object (which is in the SC protocol format) into a format for\n// transfering it over the wire. In this case, we just convert it into a simple JSON string.\n// If you want to create your own custom codec, you can encode the object into any format\n// (e.g. binary ArrayBuffer or string with any kind of compression) so long as your decode\n// function is able to rehydrate that object back into its original JavaScript Object format\n// (which adheres to the SC protocol).\n// See https://github.com/SocketCluster/socketcluster/blob/master/socketcluster-protocol.md\n// for details about the SC protocol.\nmodule.exports.encode = function (object) {\n  // Leave ping or pong message as is\n  if (object === '#1' || object === '#2') {\n    return object;\n  }\n  return JSON.stringify(object, binaryToBase64Replacer);\n};\n","var SCClientSocket = require('./lib/scclientsocket');\r\nvar factory = require('./lib/factory');\r\n\r\nmodule.exports.factory = factory;\r\nmodule.exports.SCClientSocket = SCClientSocket;\r\n\r\nmodule.exports.Emitter = require('component-emitter');\r\n\r\nmodule.exports.create = function (options) {\r\n  return factory.create(options);\r\n};\r\n\r\nmodule.exports.connect = module.exports.create;\r\n\r\nmodule.exports.destroy = function (socket) {\r\n  return factory.destroy(socket);\r\n};\r\n\r\nmodule.exports.clients = factory.clients;\r\n\r\nmodule.exports.version = '14.3.1';\r\n","var AuthEngine = function () {\r\n  this._internalStorage = {};\r\n  this.isLocalStorageEnabled = this._checkLocalStorageEnabled();\r\n};\r\n\r\nAuthEngine.prototype._checkLocalStorageEnabled = function () {\r\n  var err;\r\n  try {\r\n    // Some browsers will throw an error here if localStorage is disabled.\r\n    global.localStorage;\r\n\r\n    // Safari, in Private Browsing Mode, looks like it supports localStorage but all calls to setItem\r\n    // throw QuotaExceededError. We're going to detect this and avoid hard to debug edge cases.\r\n    global.localStorage.setItem('__scLocalStorageTest', 1);\r\n    global.localStorage.removeItem('__scLocalStorageTest');\r\n  } catch (e) {\r\n    err = e;\r\n  }\r\n  return !err;\r\n};\r\n\r\nAuthEngine.prototype.saveToken = function (name, token, options, callback) {\r\n  if (this.isLocalStorageEnabled && global.localStorage) {\r\n    global.localStorage.setItem(name, token);\r\n  } else {\r\n    this._internalStorage[name] = token;\r\n  }\r\n  callback && callback(null, token);\r\n};\r\n\r\nAuthEngine.prototype.removeToken = function (name, callback) {\r\n  var token;\r\n\r\n  this.loadToken(name, function (err, authToken) {\r\n    token = authToken;\r\n  });\r\n\r\n  if (this.isLocalStorageEnabled && global.localStorage) {\r\n    global.localStorage.removeItem(name);\r\n  } else {\r\n    delete this._internalStorage[name];\r\n  }\r\n\r\n  callback && callback(null, token);\r\n};\r\n\r\nAuthEngine.prototype.loadToken = function (name, callback) {\r\n  var token;\r\n\r\n  if (this.isLocalStorageEnabled && global.localStorage) {\r\n    token = global.localStorage.getItem(name);\r\n  } else {\r\n    token = this._internalStorage[name] || null;\r\n  }\r\n  callback(null, token);\r\n};\r\n\r\nmodule.exports.AuthEngine = AuthEngine;\r\n","var SCClientSocket = require('./scclientsocket');\r\nvar scErrors = require('sc-errors');\r\nvar uuid = require('uuid');\r\nvar InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\n\r\nvar _clients = {};\r\n\r\nfunction getMultiplexId(options) {\r\n  var protocolPrefix = options.secure ? 'https://' : 'http://';\r\n  var queryString = '';\r\n  if (options.query) {\r\n    if (typeof options.query === 'string') {\r\n      queryString = options.query;\r\n    } else {\r\n      var queryArray = [];\r\n      var queryMap = options.query;\r\n      for (var key in queryMap) {\r\n        if (queryMap.hasOwnProperty(key)) {\r\n          queryArray.push(key + '=' + queryMap[key]);\r\n        }\r\n      }\r\n      if (queryArray.length) {\r\n        queryString = '?' + queryArray.join('&');\r\n      }\r\n    }\r\n  }\r\n  var host;\r\n  if (options.host) {\r\n    host = options.host;\r\n  } else {\r\n    host = options.hostname + ':' + options.port;\r\n  }\r\n  return protocolPrefix + host + options.path + queryString;\r\n}\r\n\r\nfunction isUrlSecure() {\r\n  return global.location && location.protocol === 'https:';\r\n}\r\n\r\nfunction getPort(options, isSecureDefault) {\r\n  var isSecure = options.secure == null ? isSecureDefault : options.secure;\r\n  return options.port || (global.location && location.port ? location.port : isSecure ? 443 : 80);\r\n}\r\n\r\nfunction create(options) {\r\n  var self = this;\r\n\r\n  options = options || {};\r\n\r\n  if (options.host && !options.host.match(/[^:]+:\\d{2,5}/)) {\r\n    throw new InvalidArgumentsError('The host option should include both' +\r\n      ' the hostname and the port number in the format \"hostname:port\"');\r\n  }\r\n\r\n  if (options.host && options.hostname) {\r\n    throw new InvalidArgumentsError('The host option should already include' +\r\n      ' the hostname and the port number in the format \"hostname:port\"' +\r\n      ' - Because of this, you should never use host and hostname options together');\r\n  }\r\n\r\n  if (options.host && options.port) {\r\n    throw new InvalidArgumentsError('The host option should already include' +\r\n      ' the hostname and the port number in the format \"hostname:port\"' +\r\n      ' - Because of this, you should never use host and port options together');\r\n  }\r\n\r\n  var isSecureDefault = isUrlSecure();\r\n\r\n  var opts = {\r\n    port: getPort(options, isSecureDefault),\r\n    hostname: global.location && location.hostname || 'localhost',\r\n    path: '/socketcluster/',\r\n    secure: isSecureDefault,\r\n    autoConnect: true,\r\n    autoReconnect: true,\r\n    autoSubscribeOnConnect: true,\r\n    connectTimeout: 20000,\r\n    ackTimeout: 10000,\r\n    timestampRequests: false,\r\n    timestampParam: 't',\r\n    authEngine: null,\r\n    authTokenName: 'socketCluster.authToken',\r\n    binaryType: 'arraybuffer',\r\n    multiplex: true,\r\n    pubSubBatchDuration: null,\r\n    cloneData: false\r\n  };\r\n  for (var i in options) {\r\n    if (options.hasOwnProperty(i)) {\r\n      opts[i] = options[i];\r\n    }\r\n  }\r\n  opts.clientMap = _clients;\r\n\r\n  if (opts.multiplex === false) {\r\n    opts.clientId = uuid.v4();\r\n    var socket = new SCClientSocket(opts);\r\n    _clients[opts.clientId] = socket;\r\n    return socket;\r\n  }\r\n  opts.clientId = getMultiplexId(opts);\r\n\r\n  if (_clients[opts.clientId]) {\r\n    if (opts.autoConnect) {\r\n      _clients[opts.clientId].connect();\r\n    }\r\n  } else {\r\n    _clients[opts.clientId] = new SCClientSocket(opts);\r\n  }\r\n  return _clients[opts.clientId];\r\n}\r\n\r\nfunction destroy(socket) {\r\n  socket.destroy();\r\n}\r\n\r\nmodule.exports = {\r\n  create: create,\r\n  destroy: destroy,\r\n  clients: _clients\r\n};\r\n","var scErrors = require('sc-errors');\r\nvar InvalidActionError = scErrors.InvalidActionError;\r\n\r\nvar Response = function (socket, id) {\r\n  this.socket = socket;\r\n  this.id = id;\r\n  this.sent = false;\r\n};\r\n\r\nResponse.prototype._respond = function (responseData) {\r\n  if (this.sent) {\r\n    throw new InvalidActionError('Response ' + this.id + ' has already been sent');\r\n  } else {\r\n    this.sent = true;\r\n    this.socket.send(this.socket.encode(responseData));\r\n  }\r\n};\r\n\r\nResponse.prototype.end = function (data) {\r\n  if (this.id) {\r\n    var responseData = {\r\n      rid: this.id\r\n    };\r\n    if (data !== undefined) {\r\n      responseData.data = data;\r\n    }\r\n    this._respond(responseData);\r\n  }\r\n};\r\n\r\nResponse.prototype.error = function (error, data) {\r\n  if (this.id) {\r\n    var err = scErrors.dehydrateError(error);\r\n\r\n    var responseData = {\r\n      rid: this.id,\r\n      error: err\r\n    };\r\n    if (data !== undefined) {\r\n      responseData.data = data;\r\n    }\r\n\r\n    this._respond(responseData);\r\n  }\r\n};\r\n\r\nResponse.prototype.callback = function (error, data) {\r\n  if (error) {\r\n    this.error(error, data);\r\n  } else {\r\n    this.end(data);\r\n  }\r\n};\r\n\r\nmodule.exports.Response = Response;\r\n","var Emitter = require('component-emitter');\r\nvar SCChannel = require('sc-channel').SCChannel;\r\nvar Response = require('./response').Response;\r\nvar AuthEngine = require('./auth').AuthEngine;\r\nvar formatter = require('sc-formatter');\r\nvar SCTransport = require('./sctransport').SCTransport;\r\nvar querystring = require('querystring');\r\nvar LinkedList = require('linked-list');\r\nvar Buffer = require('buffer/').Buffer;\r\nvar clone = require('clone');\r\n\r\nvar scErrors = require('sc-errors');\r\nvar InvalidArgumentsError = scErrors.InvalidArgumentsError;\r\nvar InvalidMessageError = scErrors.InvalidMessageError;\r\nvar InvalidActionError = scErrors.InvalidActionError;\r\nvar SocketProtocolError = scErrors.SocketProtocolError;\r\nvar TimeoutError = scErrors.TimeoutError;\r\nvar BadConnectionError = scErrors.BadConnectionError;\r\n\r\nvar isBrowser = typeof window !== 'undefined';\r\n\r\n\r\nvar SCClientSocket = function (opts) {\r\n  var self = this;\r\n\r\n  Emitter.call(this);\r\n\r\n  this.id = null;\r\n  this.state = this.CLOSED;\r\n  this.authState = this.UNAUTHENTICATED;\r\n  this.signedAuthToken = null;\r\n  this.authToken = null;\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  this.preparingPendingSubscriptions = false;\r\n  this.clientId = opts.clientId;\r\n\r\n  this.connectTimeout = opts.connectTimeout;\r\n  this.ackTimeout = opts.ackTimeout;\r\n  this.channelPrefix = opts.channelPrefix || null;\r\n  this.disconnectOnUnload = opts.disconnectOnUnload == null ? true : opts.disconnectOnUnload;\r\n  this.authTokenName = opts.authTokenName;\r\n\r\n  // pingTimeout will be ackTimeout at the start, but it will\r\n  // be updated with values provided by the 'connect' event\r\n  this.pingTimeout = this.ackTimeout;\r\n  this.pingTimeoutDisabled = !!opts.pingTimeoutDisabled;\r\n  this.active = true;\r\n\r\n  this._clientMap = opts.clientMap || {};\r\n\r\n  var maxTimeout = Math.pow(2, 31) - 1;\r\n\r\n  var verifyDuration = function (propertyName) {\r\n    if (self[propertyName] > maxTimeout) {\r\n      throw new InvalidArgumentsError('The ' + propertyName +\r\n        ' value provided exceeded the maximum amount allowed');\r\n    }\r\n  };\r\n\r\n  verifyDuration('connectTimeout');\r\n  verifyDuration('ackTimeout');\r\n\r\n  this._localEvents = {\r\n    'connect': 1,\r\n    'connectAbort': 1,\r\n    'close': 1,\r\n    'disconnect': 1,\r\n    'message': 1,\r\n    'error': 1,\r\n    'raw': 1,\r\n    'kickOut': 1,\r\n    'subscribe': 1,\r\n    'unsubscribe': 1,\r\n    'subscribeStateChange': 1,\r\n    'authStateChange': 1,\r\n    'authenticate': 1,\r\n    'deauthenticate': 1,\r\n    'removeAuthToken': 1,\r\n    'subscribeRequest': 1\r\n  };\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  this._emitBuffer = new LinkedList();\r\n  this.channels = {};\r\n\r\n  this.options = opts;\r\n\r\n  this._cid = 1;\r\n\r\n  this.options.callIdGenerator = function () {\r\n    return self._cid++;\r\n  };\r\n\r\n  if (this.options.autoReconnect) {\r\n    if (this.options.autoReconnectOptions == null) {\r\n      this.options.autoReconnectOptions = {};\r\n    }\r\n\r\n    // Add properties to the this.options.autoReconnectOptions object.\r\n    // We assign the reference to a reconnectOptions variable to avoid repetition.\r\n    var reconnectOptions = this.options.autoReconnectOptions;\r\n    if (reconnectOptions.initialDelay == null) {\r\n      reconnectOptions.initialDelay = 10000;\r\n    }\r\n    if (reconnectOptions.randomness == null) {\r\n      reconnectOptions.randomness = 10000;\r\n    }\r\n    if (reconnectOptions.multiplier == null) {\r\n      reconnectOptions.multiplier = 1.5;\r\n    }\r\n    if (reconnectOptions.maxDelay == null) {\r\n      reconnectOptions.maxDelay = 60000;\r\n    }\r\n  }\r\n\r\n  if (this.options.subscriptionRetryOptions == null) {\r\n    this.options.subscriptionRetryOptions = {};\r\n  }\r\n\r\n  if (this.options.authEngine) {\r\n    this.auth = this.options.authEngine;\r\n  } else {\r\n    this.auth = new AuthEngine();\r\n  }\r\n\r\n  if (this.options.codecEngine) {\r\n    this.codec = this.options.codecEngine;\r\n  } else {\r\n    // Default codec engine\r\n    this.codec = formatter;\r\n  }\r\n\r\n  if (this.options.protocol) {\r\n    var protocolOptionError = new InvalidArgumentsError('The \"protocol\" option' +\r\n      ' does not affect socketcluster-client. If you want to utilize SSL/TLS' +\r\n      ' - use \"secure\" option instead');\r\n    this._onSCError(protocolOptionError);\r\n  }\r\n\r\n  this.options.path = this.options.path.replace(/\\/$/, '') + '/';\r\n\r\n  this.options.query = opts.query || {};\r\n  if (typeof this.options.query === 'string') {\r\n    this.options.query = querystring.parse(this.options.query);\r\n  }\r\n\r\n  this._channelEmitter = new Emitter();\r\n\r\n  this._unloadHandler = function () {\r\n    self.disconnect();\r\n  };\r\n\r\n  if (isBrowser && this.disconnectOnUnload && global.addEventListener) {\r\n    global.addEventListener('beforeunload', this._unloadHandler, false);\r\n  }\r\n  this._clientMap[this.clientId] = this;\r\n\r\n  if (this.options.autoConnect) {\r\n    this.connect();\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype = Object.create(Emitter.prototype);\r\n\r\nSCClientSocket.CONNECTING = SCClientSocket.prototype.CONNECTING = SCTransport.prototype.CONNECTING;\r\nSCClientSocket.OPEN = SCClientSocket.prototype.OPEN = SCTransport.prototype.OPEN;\r\nSCClientSocket.CLOSED = SCClientSocket.prototype.CLOSED = SCTransport.prototype.CLOSED;\r\n\r\nSCClientSocket.AUTHENTICATED = SCClientSocket.prototype.AUTHENTICATED = 'authenticated';\r\nSCClientSocket.UNAUTHENTICATED = SCClientSocket.prototype.UNAUTHENTICATED = 'unauthenticated';\r\n\r\nSCClientSocket.PENDING = SCClientSocket.prototype.PENDING = 'pending';\r\n\r\nSCClientSocket.ignoreStatuses = scErrors.socketProtocolIgnoreStatuses;\r\nSCClientSocket.errorStatuses = scErrors.socketProtocolErrorStatuses;\r\n\r\nSCClientSocket.prototype._privateEventHandlerMap = {\r\n  '#publish': function (data) {\r\n    var undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    var isSubscribed = this.isSubscribed(undecoratedChannelName, true);\r\n\r\n    if (isSubscribed) {\r\n      this._channelEmitter.emit(undecoratedChannelName, data.data);\r\n    }\r\n  },\r\n  '#kickOut': function (data) {\r\n    var undecoratedChannelName = this._undecorateChannelName(data.channel);\r\n    var channel = this.channels[undecoratedChannelName];\r\n    if (channel) {\r\n      Emitter.prototype.emit.call(this, 'kickOut', data.message, undecoratedChannelName);\r\n      channel.emit('kickOut', data.message, undecoratedChannelName);\r\n      this._triggerChannelUnsubscribe(channel);\r\n    }\r\n  },\r\n  '#setAuthToken': function (data, response) {\r\n    var self = this;\r\n\r\n    if (data) {\r\n      var triggerAuthenticate = function (err) {\r\n        if (err) {\r\n          // This is a non-fatal error, we don't want to close the connection\r\n          // because of this but we do want to notify the server and throw an error\r\n          // on the client.\r\n          response.error(err);\r\n          self._onSCError(err);\r\n        } else {\r\n          self._changeToAuthenticatedState(data.token);\r\n          response.end();\r\n        }\r\n      };\r\n\r\n      this.auth.saveToken(this.authTokenName, data.token, {}, triggerAuthenticate);\r\n    } else {\r\n      response.error(new InvalidMessageError('No token data provided by #setAuthToken event'));\r\n    }\r\n  },\r\n  '#removeAuthToken': function (data, response) {\r\n    var self = this;\r\n\r\n    this.auth.removeToken(this.authTokenName, function (err, oldToken) {\r\n      if (err) {\r\n        // Non-fatal error - Do not close the connection\r\n        response.error(err);\r\n        self._onSCError(err);\r\n      } else {\r\n        Emitter.prototype.emit.call(self, 'removeAuthToken', oldToken);\r\n        self._changeToUnauthenticatedStateAndClearTokens();\r\n        response.end();\r\n      }\r\n    });\r\n  },\r\n  '#disconnect': function (data) {\r\n    this.transport.close(data.code, data.data);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.getState = function () {\r\n  return this.state;\r\n};\r\n\r\nSCClientSocket.prototype.getBytesReceived = function () {\r\n  return this.transport.getBytesReceived();\r\n};\r\n\r\nSCClientSocket.prototype.deauthenticate = function (callback) {\r\n  var self = this;\r\n\r\n  this.auth.removeToken(this.authTokenName, function (err, oldToken) {\r\n    if (err) {\r\n      // Non-fatal error - Do not close the connection\r\n      self._onSCError(err);\r\n    } else {\r\n      Emitter.prototype.emit.call(self, 'removeAuthToken', oldToken);\r\n      if (self.state !== self.CLOSED) {\r\n        self.emit('#removeAuthToken');\r\n      }\r\n      self._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n    callback && callback(err);\r\n  });\r\n};\r\n\r\nSCClientSocket.prototype.connect = SCClientSocket.prototype.open = function () {\r\n  var self = this;\r\n\r\n  if (!this.active) {\r\n    var error = new InvalidActionError('Cannot connect a destroyed client');\r\n    this._onSCError(error);\r\n    return;\r\n  }\r\n\r\n  if (this.state === this.CLOSED) {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n\r\n    this.state = this.CONNECTING;\r\n    Emitter.prototype.emit.call(this, 'connecting');\r\n\r\n    if (this.transport) {\r\n      this.transport.off();\r\n    }\r\n\r\n    this.transport = new SCTransport(this.auth, this.codec, this.options);\r\n\r\n    this.transport.on('open', function (status) {\r\n      self.state = self.OPEN;\r\n      self._onSCOpen(status);\r\n    });\r\n\r\n    this.transport.on('error', function (err) {\r\n      self._onSCError(err);\r\n    });\r\n\r\n    this.transport.on('close', function (code, data) {\r\n      self.state = self.CLOSED;\r\n      self._onSCClose(code, data);\r\n    });\r\n\r\n    this.transport.on('openAbort', function (code, data) {\r\n      self.state = self.CLOSED;\r\n      self._onSCClose(code, data, true);\r\n    });\r\n\r\n    this.transport.on('event', function (event, data, res) {\r\n      self._onSCEvent(event, data, res);\r\n    });\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.reconnect = function (code, data) {\r\n  this.disconnect(code, data);\r\n  this.connect();\r\n};\r\n\r\nSCClientSocket.prototype.disconnect = function (code, data) {\r\n  code = code || 1000;\r\n\r\n  if (typeof code !== 'number') {\r\n    throw new InvalidArgumentsError('If specified, the code argument must be a number');\r\n  }\r\n\r\n  if (this.state === this.OPEN || this.state === this.CONNECTING) {\r\n    this.transport.close(code, data);\r\n  } else {\r\n    this.pendingReconnect = false;\r\n    this.pendingReconnectTimeout = null;\r\n    clearTimeout(this._reconnectTimeoutRef);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.destroy = function (code, data) {\r\n  if (isBrowser && global.removeEventListener) {\r\n    global.removeEventListener('beforeunload', this._unloadHandler, false);\r\n  }\r\n  this.active = false;\r\n  this.disconnect(code, data);\r\n  delete this._clientMap[this.clientId];\r\n};\r\n\r\nSCClientSocket.prototype._changeToUnauthenticatedStateAndClearTokens = function () {\r\n  if (this.authState !== this.UNAUTHENTICATED) {\r\n    var oldState = this.authState;\r\n    var oldSignedToken = this.signedAuthToken;\r\n    this.authState = this.UNAUTHENTICATED;\r\n    this.signedAuthToken = null;\r\n    this.authToken = null;\r\n\r\n    var stateChangeData = {\r\n      oldState: oldState,\r\n      newState: this.authState\r\n    };\r\n    Emitter.prototype.emit.call(this, 'authStateChange', stateChangeData);\r\n    Emitter.prototype.emit.call(this, 'deauthenticate', oldSignedToken);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._changeToAuthenticatedState = function (signedAuthToken) {\r\n  this.signedAuthToken = signedAuthToken;\r\n  this.authToken = this._extractAuthTokenData(signedAuthToken);\r\n\r\n  if (this.authState !== this.AUTHENTICATED) {\r\n    var oldState = this.authState;\r\n    this.authState = this.AUTHENTICATED;\r\n    var stateChangeData = {\r\n      oldState: oldState,\r\n      newState: this.authState,\r\n      signedAuthToken: signedAuthToken,\r\n      authToken: this.authToken\r\n    };\r\n    if (!this.preparingPendingSubscriptions) {\r\n      this.processPendingSubscriptions();\r\n    }\r\n\r\n    Emitter.prototype.emit.call(this, 'authStateChange', stateChangeData);\r\n  }\r\n  Emitter.prototype.emit.call(this, 'authenticate', signedAuthToken);\r\n};\r\n\r\nSCClientSocket.prototype.decodeBase64 = function (encodedString) {\r\n  return Buffer.from(encodedString, 'base64').toString('utf8');\r\n};\r\n\r\nSCClientSocket.prototype.encodeBase64 = function (decodedString) {\r\n  return Buffer.from(decodedString, 'utf8').toString('base64');\r\n};\r\n\r\nSCClientSocket.prototype._extractAuthTokenData = function (signedAuthToken) {\r\n  var tokenParts = (signedAuthToken || '').split('.');\r\n  var encodedTokenData = tokenParts[1];\r\n  if (encodedTokenData != null) {\r\n    var tokenData = encodedTokenData;\r\n    try {\r\n      tokenData = this.decodeBase64(tokenData);\r\n      return JSON.parse(tokenData);\r\n    } catch (e) {\r\n      return tokenData;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nSCClientSocket.prototype.getAuthToken = function () {\r\n  return this.authToken;\r\n};\r\n\r\nSCClientSocket.prototype.getSignedAuthToken = function () {\r\n  return this.signedAuthToken;\r\n};\r\n\r\n// Perform client-initiated authentication by providing an encrypted token string.\r\nSCClientSocket.prototype.authenticate = function (signedAuthToken, callback) {\r\n  var self = this;\r\n\r\n  this.emit('#authenticate', signedAuthToken, function (err, authStatus) {\r\n    if (authStatus && authStatus.isAuthenticated != null) {\r\n      // If authStatus is correctly formatted (has an isAuthenticated property),\r\n      // then we will rehydrate the authError.\r\n      if (authStatus.authError) {\r\n        authStatus.authError = scErrors.hydrateError(authStatus.authError);\r\n      }\r\n    } else {\r\n      // Some errors like BadConnectionError and TimeoutError will not pass a valid\r\n      // authStatus object to the current function, so we need to create it ourselves.\r\n      authStatus = {\r\n        isAuthenticated: self.authState,\r\n        authError: null\r\n      };\r\n    }\r\n    if (err) {\r\n      if (err.name !== 'BadConnectionError' && err.name !== 'TimeoutError') {\r\n        // In case of a bad/closed connection or a timeout, we maintain the last\r\n        // known auth state since those errors don't mean that the token is invalid.\r\n\r\n        self._changeToUnauthenticatedStateAndClearTokens();\r\n      }\r\n      callback && callback(err, authStatus);\r\n    } else {\r\n      self.auth.saveToken(self.authTokenName, signedAuthToken, {}, function (err) {\r\n        if (err) {\r\n          self._onSCError(err);\r\n        }\r\n        if (authStatus.isAuthenticated) {\r\n          self._changeToAuthenticatedState(signedAuthToken);\r\n        } else {\r\n          self._changeToUnauthenticatedStateAndClearTokens();\r\n        }\r\n        callback && callback(err, authStatus);\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nSCClientSocket.prototype._tryReconnect = function (initialDelay) {\r\n  var self = this;\r\n\r\n  var exponent = this.connectAttempts++;\r\n  var reconnectOptions = this.options.autoReconnectOptions;\r\n  var timeout;\r\n\r\n  if (initialDelay == null || exponent > 0) {\r\n    var initialTimeout = Math.round(reconnectOptions.initialDelay + (reconnectOptions.randomness || 0) * Math.random());\r\n\r\n    timeout = Math.round(initialTimeout * Math.pow(reconnectOptions.multiplier, exponent));\r\n  } else {\r\n    timeout = initialDelay;\r\n  }\r\n\r\n  if (timeout > reconnectOptions.maxDelay) {\r\n    timeout = reconnectOptions.maxDelay;\r\n  }\r\n\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this.pendingReconnect = true;\r\n  this.pendingReconnectTimeout = timeout;\r\n  this._reconnectTimeoutRef = setTimeout(function () {\r\n    self.connect();\r\n  }, timeout);\r\n};\r\n\r\nSCClientSocket.prototype._onSCOpen = function (status) {\r\n  var self = this;\r\n\r\n  this.preparingPendingSubscriptions = true;\r\n\r\n  if (status) {\r\n    this.id = status.id;\r\n    this.pingTimeout = status.pingTimeout;\r\n    this.transport.pingTimeout = this.pingTimeout;\r\n    if (status.isAuthenticated) {\r\n      this._changeToAuthenticatedState(status.authToken);\r\n    } else {\r\n      this._changeToUnauthenticatedStateAndClearTokens();\r\n    }\r\n  } else {\r\n    // This can happen if auth.loadToken (in sctransport.js) fails with\r\n    // an error - This means that the signedAuthToken cannot be loaded by\r\n    // the auth engine and therefore, we need to unauthenticate the client.\r\n    this._changeToUnauthenticatedStateAndClearTokens();\r\n  }\r\n\r\n  this.connectAttempts = 0;\r\n\r\n  if (this.options.autoSubscribeOnConnect) {\r\n    this.processPendingSubscriptions();\r\n  }\r\n\r\n  // If the user invokes the callback while in autoSubscribeOnConnect mode, it\r\n  // won't break anything.\r\n  Emitter.prototype.emit.call(this, 'connect', status, function () {\r\n    self.processPendingSubscriptions();\r\n  });\r\n\r\n  if (this.state === this.OPEN) {\r\n    this._flushEmitBuffer();\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._onSCError = function (err) {\r\n  var self = this;\r\n\r\n  // Throw error in different stack frame so that error handling\r\n  // cannot interfere with a reconnect action.\r\n  setTimeout(function () {\r\n    if (self.listeners('error').length < 1) {\r\n      throw err;\r\n    } else {\r\n      Emitter.prototype.emit.call(self, 'error', err);\r\n    }\r\n  }, 0);\r\n};\r\n\r\nSCClientSocket.prototype._suspendSubscriptions = function () {\r\n  var channel, newState;\r\n  for (var channelName in this.channels) {\r\n    if (this.channels.hasOwnProperty(channelName)) {\r\n      channel = this.channels[channelName];\r\n      if (channel.state === channel.SUBSCRIBED ||\r\n        channel.state === channel.PENDING) {\r\n\r\n        newState = channel.PENDING;\r\n      } else {\r\n        newState = channel.UNSUBSCRIBED;\r\n      }\r\n\r\n      this._triggerChannelUnsubscribe(channel, newState);\r\n    }\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\r\n  var currentNode = this._emitBuffer.head;\r\n  var nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    var eventObject = currentNode.data;\r\n    clearTimeout(eventObject.timeout);\r\n    delete eventObject.timeout;\r\n    currentNode.detach();\r\n    currentNode = nextNode;\r\n\r\n    var callback = eventObject.callback;\r\n    if (callback) {\r\n      delete eventObject.callback;\r\n      var errorMessage = \"Event '\" + eventObject.event +\r\n        \"' was aborted due to a bad connection\";\r\n      var error = new BadConnectionError(errorMessage, failureType);\r\n      callback.call(eventObject, error, eventObject);\r\n    }\r\n    // Cleanup any pending response callback in the transport layer too.\r\n    if (eventObject.cid) {\r\n      this.transport.cancelPendingResponse(eventObject.cid);\r\n    }\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._onSCClose = function (code, data, openAbort) {\r\n  var self = this;\r\n\r\n  this.id = null;\r\n\r\n  if (this.transport) {\r\n    this.transport.off();\r\n  }\r\n  this.pendingReconnect = false;\r\n  this.pendingReconnectTimeout = null;\r\n  clearTimeout(this._reconnectTimeoutRef);\r\n\r\n  this._suspendSubscriptions();\r\n  this._abortAllPendingEventsDueToBadConnection(openAbort ? 'connectAbort' : 'disconnect');\r\n\r\n  // Try to reconnect\r\n  // on server ping timeout (4000)\r\n  // or on client pong timeout (4001)\r\n  // or on close without status (1005)\r\n  // or on handshake failure (4003)\r\n  // or on handshake rejection (4008)\r\n  // or on socket hung up (1006)\r\n  if (this.options.autoReconnect) {\r\n    if (code === 4000 || code === 4001 || code === 1005) {\r\n      // If there is a ping or pong timeout or socket closes without\r\n      // status, don't wait before trying to reconnect - These could happen\r\n      // if the client wakes up after a period of inactivity and in this case we\r\n      // want to re-establish the connection as soon as possible.\r\n      this._tryReconnect(0);\r\n\r\n      // Codes 4500 and above will be treated as permanent disconnects.\r\n      // Socket will not try to auto-reconnect.\r\n    } else if (code !== 1000 && code < 4500) {\r\n      this._tryReconnect();\r\n    }\r\n  }\r\n\r\n  if (openAbort) {\r\n    Emitter.prototype.emit.call(self, 'connectAbort', code, data);\r\n  } else {\r\n    Emitter.prototype.emit.call(self, 'disconnect', code, data);\r\n  }\r\n  Emitter.prototype.emit.call(self, 'close', code, data);\r\n\r\n  if (!SCClientSocket.ignoreStatuses[code]) {\r\n    var closeMessage;\r\n    if (data) {\r\n      closeMessage = 'Socket connection closed with status code ' + code + ' and reason: ' + data;\r\n    } else {\r\n      closeMessage = 'Socket connection closed with status code ' + code;\r\n    }\r\n    var err = new SocketProtocolError(SCClientSocket.errorStatuses[code] || closeMessage, code);\r\n    this._onSCError(err);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._onSCEvent = function (event, data, res) {\r\n  var handler = this._privateEventHandlerMap[event];\r\n  if (handler) {\r\n    handler.call(this, data, res);\r\n  } else {\r\n    Emitter.prototype.emit.call(this, event, data, function () {\r\n      res && res.callback.apply(res, arguments);\r\n    });\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.decode = function (message) {\r\n  return this.transport.decode(message);\r\n};\r\n\r\nSCClientSocket.prototype.encode = function (object) {\r\n  return this.transport.encode(object);\r\n};\r\n\r\nSCClientSocket.prototype._flushEmitBuffer = function () {\r\n  var currentNode = this._emitBuffer.head;\r\n  var nextNode;\r\n\r\n  while (currentNode) {\r\n    nextNode = currentNode.next;\r\n    var eventObject = currentNode.data;\r\n    currentNode.detach();\r\n    this.transport.emitObject(eventObject);\r\n    currentNode = nextNode;\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._handleEventAckTimeout = function (eventObject, eventNode) {\r\n  if (eventNode) {\r\n    eventNode.detach();\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  var callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    var error = new TimeoutError(\"Event response for '\" + eventObject.event + \"' timed out\");\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n  // Cleanup any pending response callback in the transport layer too.\r\n  if (eventObject.cid) {\r\n    this.transport.cancelPendingResponse(eventObject.cid);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._emit = function (event, data, callback) {\r\n  var self = this;\r\n\r\n  if (this.state === this.CLOSED) {\r\n    this.connect();\r\n  }\r\n  var eventObject = {\r\n    event: event,\r\n    callback: callback\r\n  };\r\n\r\n  var eventNode = new LinkedList.Item();\r\n\r\n  if (this.options.cloneData) {\r\n    eventObject.data = clone(data);\r\n  } else {\r\n    eventObject.data = data;\r\n  }\r\n  eventNode.data = eventObject;\r\n\r\n  eventObject.timeout = setTimeout(function () {\r\n    self._handleEventAckTimeout(eventObject, eventNode);\r\n  }, this.ackTimeout);\r\n\r\n  this._emitBuffer.append(eventNode);\r\n  if (this.state === this.OPEN) {\r\n    this._flushEmitBuffer();\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.send = function (data) {\r\n  this.transport.send(data);\r\n};\r\n\r\nSCClientSocket.prototype.emit = function (event, data, callback) {\r\n  if (this._localEvents[event] == null) {\r\n    this._emit(event, data, callback);\r\n  } else if (event === 'error') {\r\n    Emitter.prototype.emit.call(this, event, data);\r\n  } else {\r\n    var error = new InvalidActionError('The \"' + event + '\" event is reserved and cannot be emitted on a client socket');\r\n    this._onSCError(error);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.publish = function (channelName, data, callback) {\r\n  var pubData = {\r\n    channel: this._decorateChannelName(channelName),\r\n    data: data\r\n  };\r\n  this.emit('#publish', pubData, callback);\r\n};\r\n\r\nSCClientSocket.prototype._triggerChannelSubscribe = function (channel, subscriptionOptions) {\r\n  var channelName = channel.name;\r\n\r\n  if (channel.state !== channel.SUBSCRIBED) {\r\n    var oldState = channel.state;\r\n    channel.state = channel.SUBSCRIBED;\r\n\r\n    var stateChangeData = {\r\n      channel: channelName,\r\n      oldState: oldState,\r\n      newState: channel.state,\r\n      subscriptionOptions: subscriptionOptions\r\n    };\r\n    channel.emit('subscribeStateChange', stateChangeData);\r\n    channel.emit('subscribe', channelName, subscriptionOptions);\r\n    Emitter.prototype.emit.call(this, 'subscribeStateChange', stateChangeData);\r\n    Emitter.prototype.emit.call(this, 'subscribe', channelName, subscriptionOptions);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._triggerChannelSubscribeFail = function (err, channel, subscriptionOptions) {\r\n  var channelName = channel.name;\r\n  var meetsAuthRequirements = !channel.waitForAuth || this.authState === this.AUTHENTICATED;\r\n\r\n  if (channel.state !== channel.UNSUBSCRIBED && meetsAuthRequirements) {\r\n    channel.state = channel.UNSUBSCRIBED;\r\n\r\n    channel.emit('subscribeFail', err, channelName, subscriptionOptions);\r\n    Emitter.prototype.emit.call(this, 'subscribeFail', err, channelName, subscriptionOptions);\r\n  }\r\n};\r\n\r\n// Cancel any pending subscribe callback\r\nSCClientSocket.prototype._cancelPendingSubscribeCallback = function (channel) {\r\n  if (channel._pendingSubscriptionCid != null) {\r\n    this.transport.cancelPendingResponse(channel._pendingSubscriptionCid);\r\n    delete channel._pendingSubscriptionCid;\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._decorateChannelName = function (channelName) {\r\n  if (this.channelPrefix) {\r\n    channelName = this.channelPrefix + channelName;\r\n  }\r\n  return channelName;\r\n};\r\n\r\nSCClientSocket.prototype._undecorateChannelName = function (decoratedChannelName) {\r\n  if (this.channelPrefix && decoratedChannelName.indexOf(this.channelPrefix) === 0) {\r\n    return decoratedChannelName.replace(this.channelPrefix, '');\r\n  }\r\n  return decoratedChannelName;\r\n};\r\n\r\nSCClientSocket.prototype._trySubscribe = function (channel) {\r\n  var self = this;\r\n\r\n  var meetsAuthRequirements = !channel.waitForAuth || this.authState === this.AUTHENTICATED;\r\n\r\n  // We can only ever have one pending subscribe action at any given time on a channel\r\n  if (this.state === this.OPEN && !this.preparingPendingSubscriptions &&\r\n    channel._pendingSubscriptionCid == null && meetsAuthRequirements) {\r\n\r\n    var options = {\r\n      noTimeout: true\r\n    };\r\n\r\n    var subscriptionOptions = {\r\n      channel: this._decorateChannelName(channel.name)\r\n    };\r\n    if (channel.waitForAuth) {\r\n      options.waitForAuth = true;\r\n      subscriptionOptions.waitForAuth = options.waitForAuth;\r\n    }\r\n    if (channel.data) {\r\n      subscriptionOptions.data = channel.data;\r\n    }\r\n    if (channel.batch) {\r\n      options.batch = true;\r\n      subscriptionOptions.batch = true;\r\n    }\r\n\r\n    channel._pendingSubscriptionCid = this.transport.emit(\r\n      '#subscribe', subscriptionOptions, options,\r\n      function (err) {\r\n        delete channel._pendingSubscriptionCid;\r\n        if (err) {\r\n          self._triggerChannelSubscribeFail(err, channel, subscriptionOptions);\r\n        } else {\r\n          self._triggerChannelSubscribe(channel, subscriptionOptions);\r\n        }\r\n      }\r\n    );\r\n    Emitter.prototype.emit.call(this, 'subscribeRequest', channel.name, subscriptionOptions);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.subscribe = function (channelName, options) {\r\n  var channel = this.channels[channelName];\r\n\r\n  if (!channel) {\r\n    channel = new SCChannel(channelName, this, options);\r\n    this.channels[channelName] = channel;\r\n  } else if (options) {\r\n    channel.setOptions(options);\r\n  }\r\n\r\n  if (channel.state === channel.UNSUBSCRIBED) {\r\n    channel.state = channel.PENDING;\r\n    this._trySubscribe(channel);\r\n  }\r\n\r\n  return channel;\r\n};\r\n\r\nSCClientSocket.prototype._triggerChannelUnsubscribe = function (channel, newState) {\r\n  var channelName = channel.name;\r\n  var oldState = channel.state;\r\n\r\n  if (newState) {\r\n    channel.state = newState;\r\n  } else {\r\n    channel.state = channel.UNSUBSCRIBED;\r\n  }\r\n  this._cancelPendingSubscribeCallback(channel);\r\n\r\n  if (oldState === channel.SUBSCRIBED) {\r\n    var stateChangeData = {\r\n      channel: channelName,\r\n      oldState: oldState,\r\n      newState: channel.state\r\n    };\r\n    channel.emit('subscribeStateChange', stateChangeData);\r\n    channel.emit('unsubscribe', channelName);\r\n    Emitter.prototype.emit.call(this, 'subscribeStateChange', stateChangeData);\r\n    Emitter.prototype.emit.call(this, 'unsubscribe', channelName);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype._tryUnsubscribe = function (channel) {\r\n  var self = this;\r\n\r\n  if (this.state === this.OPEN) {\r\n    var options = {\r\n      noTimeout: true\r\n    };\r\n    if (channel.batch) {\r\n      options.batch = true;\r\n    }\r\n    // If there is a pending subscribe action, cancel the callback\r\n    this._cancelPendingSubscribeCallback(channel);\r\n\r\n    // This operation cannot fail because the TCP protocol guarantees delivery\r\n    // so long as the connection remains open. If the connection closes,\r\n    // the server will automatically unsubscribe the client and thus complete\r\n    // the operation on the server side.\r\n    var decoratedChannelName = this._decorateChannelName(channel.name);\r\n    this.transport.emit('#unsubscribe', decoratedChannelName, options);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.unsubscribe = function (channelName) {\r\n  var channel = this.channels[channelName];\r\n\r\n  if (channel) {\r\n    if (channel.state !== channel.UNSUBSCRIBED) {\r\n      this._triggerChannelUnsubscribe(channel);\r\n      this._tryUnsubscribe(channel);\r\n    }\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.channel = function (channelName, options) {\r\n  var currentChannel = this.channels[channelName];\r\n\r\n  if (!currentChannel) {\r\n    currentChannel = new SCChannel(channelName, this, options);\r\n    this.channels[channelName] = currentChannel;\r\n  }\r\n  return currentChannel;\r\n};\r\n\r\nSCClientSocket.prototype.destroyChannel = function (channelName) {\r\n  var channel = this.channels[channelName];\r\n\r\n  if (channel) {\r\n    channel.unwatch();\r\n    channel.unsubscribe();\r\n    delete this.channels[channelName];\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.subscriptions = function (includePending) {\r\n  var subs = [];\r\n  var channel, includeChannel;\r\n  for (var channelName in this.channels) {\r\n    if (this.channels.hasOwnProperty(channelName)) {\r\n      channel = this.channels[channelName];\r\n\r\n      if (includePending) {\r\n        includeChannel = channel && (channel.state === channel.SUBSCRIBED ||\r\n          channel.state === channel.PENDING);\r\n      } else {\r\n        includeChannel = channel && channel.state === channel.SUBSCRIBED;\r\n      }\r\n\r\n      if (includeChannel) {\r\n        subs.push(channelName);\r\n      }\r\n    }\r\n  }\r\n  return subs;\r\n};\r\n\r\nSCClientSocket.prototype.isSubscribed = function (channelName, includePending) {\r\n  var channel = this.channels[channelName];\r\n  if (includePending) {\r\n    return !!channel && (channel.state === channel.SUBSCRIBED ||\r\n      channel.state === channel.PENDING);\r\n  }\r\n  return !!channel && channel.state === channel.SUBSCRIBED;\r\n};\r\n\r\nSCClientSocket.prototype.processPendingSubscriptions = function () {\r\n  var self = this;\r\n\r\n  this.preparingPendingSubscriptions = false;\r\n\r\n  var pendingChannels = [];\r\n\r\n  for (var i in this.channels) {\r\n    if (this.channels.hasOwnProperty(i)) {\r\n      var channel = this.channels[i];\r\n      if (channel.state === channel.PENDING) {\r\n        pendingChannels.push(channel);\r\n      }\r\n    }\r\n  }\r\n\r\n  pendingChannels.sort(function (a, b) {\r\n    var ap = a.priority || 0;\r\n    var bp = b.priority || 0;\r\n    if (ap > bp) {\r\n      return -1;\r\n    }\r\n    if (ap < bp) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  });\r\n\r\n  pendingChannels.forEach(function (channel) {\r\n    self._trySubscribe(channel);\r\n  });\r\n};\r\n\r\nSCClientSocket.prototype.watch = function (channelName, handler) {\r\n  if (typeof handler !== 'function') {\r\n    throw new InvalidArgumentsError('No handler function was provided');\r\n  }\r\n  this._channelEmitter.on(channelName, handler);\r\n};\r\n\r\nSCClientSocket.prototype.unwatch = function (channelName, handler) {\r\n  if (handler) {\r\n    this._channelEmitter.removeListener(channelName, handler);\r\n  } else {\r\n    this._channelEmitter.removeAllListeners(channelName);\r\n  }\r\n};\r\n\r\nSCClientSocket.prototype.watchers = function (channelName) {\r\n  return this._channelEmitter.listeners(channelName);\r\n};\r\n\r\nmodule.exports = SCClientSocket;\r\n","var Emitter = require('component-emitter');\r\nvar Response = require('./response').Response;\r\nvar querystring = require('querystring');\r\nvar WebSocket;\r\nvar createWebSocket;\r\n\r\nif (global.WebSocket) {\r\n  WebSocket = global.WebSocket;\r\n  createWebSocket = function (uri, options) {\r\n    return new WebSocket(uri);\r\n  };\r\n} else {\r\n  WebSocket = require('ws');\r\n  createWebSocket = function (uri, options) {\r\n    return new WebSocket(uri, null, options);\r\n  };\r\n}\r\n\r\nvar scErrors = require('sc-errors');\r\nvar TimeoutError = scErrors.TimeoutError;\r\nvar BadConnectionError = scErrors.BadConnectionError;\r\n\r\n\r\nvar SCTransport = function (authEngine, codecEngine, options) {\r\n  var self = this;\r\n\r\n  this.state = this.CLOSED;\r\n  this.auth = authEngine;\r\n  this.codec = codecEngine;\r\n  this.options = options;\r\n  this.connectTimeout = options.connectTimeout;\r\n  this.pingTimeout = options.ackTimeout;\r\n  this.pingTimeoutDisabled = !!options.pingTimeoutDisabled;\r\n  this.callIdGenerator = options.callIdGenerator;\r\n  this.authTokenName = options.authTokenName;\r\n\r\n  this._pingTimeoutTicker = null;\r\n  this._callbackMap = {};\r\n  this._batchSendList = [];\r\n\r\n  // Open the connection.\r\n\r\n  this.state = this.CONNECTING;\r\n  var uri = this.uri();\r\n\r\n  var wsSocket = createWebSocket(uri, this.options);\r\n  wsSocket.binaryType = this.options.binaryType;\r\n\r\n  this.socket = wsSocket;\r\n\r\n  wsSocket.onopen = function () {\r\n    self._onOpen();\r\n  };\r\n\r\n  wsSocket.onclose = function (event) {\r\n    var code;\r\n    if (event.code == null) {\r\n      // This is to handle an edge case in React Native whereby\r\n      // event.code is undefined when the mobile device is locked.\r\n      // TODO: This is not perfect since this condition could also apply to\r\n      // an abnormal close (no close control frame) which would be a 1006.\r\n      code = 1005;\r\n    } else {\r\n      code = event.code;\r\n    }\r\n    self._onClose(code, event.reason);\r\n  };\r\n\r\n  wsSocket.onmessage = function (message, flags) {\r\n    self._onMessage(message.data);\r\n  };\r\n\r\n  wsSocket.onerror = function (error) {\r\n    // The onclose event will be called automatically after the onerror event\r\n    // if the socket is connected - Otherwise, if it's in the middle of\r\n    // connecting, we want to close it manually with a 1006 - This is necessary\r\n    // to prevent inconsistent behavior when running the client in Node.js\r\n    // vs in a browser.\r\n\r\n    if (self.state === self.CONNECTING) {\r\n      self._onClose(1006);\r\n    }\r\n  };\r\n\r\n  this._connectTimeoutRef = setTimeout(function () {\r\n    self._onClose(4007);\r\n    self.socket.close(4007);\r\n  }, this.connectTimeout);\r\n};\r\n\r\nSCTransport.prototype = Object.create(Emitter.prototype);\r\n\r\nSCTransport.CONNECTING = SCTransport.prototype.CONNECTING = 'connecting';\r\nSCTransport.OPEN = SCTransport.prototype.OPEN = 'open';\r\nSCTransport.CLOSED = SCTransport.prototype.CLOSED = 'closed';\r\n\r\nSCTransport.prototype.uri = function () {\r\n  var query = this.options.query || {};\r\n  var schema = this.options.secure ? 'wss' : 'ws';\r\n\r\n  if (this.options.timestampRequests) {\r\n    query[this.options.timestampParam] = (new Date()).getTime();\r\n  }\r\n\r\n  query = querystring.encode(query);\r\n\r\n  if (query.length) {\r\n    query = '?' + query;\r\n  }\r\n\r\n  var host;\r\n  if (this.options.host) {\r\n    host = this.options.host;\r\n  } else {\r\n    var port = '';\r\n\r\n    if (this.options.port && ((schema === 'wss' && this.options.port !== 443)\r\n      || (schema === 'ws' && this.options.port !== 80))) {\r\n      port = ':' + this.options.port;\r\n    }\r\n    host = this.options.hostname + port;\r\n  }\r\n\r\n  return schema + '://' + host + this.options.path + query;\r\n};\r\n\r\nSCTransport.prototype._onOpen = function () {\r\n  var self = this;\r\n\r\n  clearTimeout(this._connectTimeoutRef);\r\n  this._resetPingTimeout();\r\n\r\n  this._handshake(function (err, status) {\r\n    if (err) {\r\n      var statusCode;\r\n      if (status && status.code) {\r\n        statusCode = status.code;\r\n      } else {\r\n        statusCode = 4003;\r\n      }\r\n      self._onError(err);\r\n      self._onClose(statusCode, err.toString());\r\n      self.socket.close(statusCode);\r\n    } else {\r\n      self.state = self.OPEN;\r\n      Emitter.prototype.emit.call(self, 'open', status);\r\n      self._resetPingTimeout();\r\n    }\r\n  });\r\n};\r\n\r\nSCTransport.prototype._handshake = function (callback) {\r\n  var self = this;\r\n  this.auth.loadToken(this.authTokenName, function (err, token) {\r\n    if (err) {\r\n      callback(err);\r\n    } else {\r\n      // Don't wait for this.state to be 'open'.\r\n      // The underlying WebSocket (this.socket) is already open.\r\n      var options = {\r\n        force: true\r\n      };\r\n      self.emit('#handshake', {\r\n        authToken: token\r\n      }, options, function (err, status) {\r\n        if (status) {\r\n          // Add the token which was used as part of authentication attempt\r\n          // to the status object.\r\n          status.authToken = token;\r\n          if (status.authError) {\r\n            status.authError = scErrors.hydrateError(status.authError);\r\n          }\r\n        }\r\n        callback(err, status);\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nSCTransport.prototype._abortAllPendingEventsDueToBadConnection = function (failureType) {\r\n  for (var i in this._callbackMap) {\r\n    if (this._callbackMap.hasOwnProperty(i)) {\r\n      var eventObject = this._callbackMap[i];\r\n      delete this._callbackMap[i];\r\n\r\n      clearTimeout(eventObject.timeout);\r\n      delete eventObject.timeout;\r\n\r\n      var errorMessage = \"Event '\" + eventObject.event +\r\n        \"' was aborted due to a bad connection\";\r\n      var badConnectionError = new BadConnectionError(errorMessage, failureType);\r\n\r\n      var callback = eventObject.callback;\r\n      delete eventObject.callback;\r\n      callback.call(eventObject, badConnectionError, eventObject);\r\n    }\r\n  }\r\n};\r\n\r\nSCTransport.prototype._onClose = function (code, data) {\r\n  delete this.socket.onopen;\r\n  delete this.socket.onclose;\r\n  delete this.socket.onmessage;\r\n  delete this.socket.onerror;\r\n\r\n  clearTimeout(this._connectTimeoutRef);\r\n  clearTimeout(this._pingTimeoutTicker);\r\n  clearTimeout(this._batchTimeout);\r\n\r\n  if (this.state === this.OPEN) {\r\n    this.state = this.CLOSED;\r\n    Emitter.prototype.emit.call(this, 'close', code, data);\r\n    this._abortAllPendingEventsDueToBadConnection('disconnect');\r\n\r\n  } else if (this.state === this.CONNECTING) {\r\n    this.state = this.CLOSED;\r\n    Emitter.prototype.emit.call(this, 'openAbort', code, data);\r\n    this._abortAllPendingEventsDueToBadConnection('connectAbort');\r\n  }\r\n};\r\n\r\nSCTransport.prototype._handleEventObject = function (obj, message) {\r\n  if (obj && obj.event != null) {\r\n    var response = new Response(this, obj.cid);\r\n    Emitter.prototype.emit.call(this, 'event', obj.event, obj.data, response);\r\n  } else if (obj && obj.rid != null) {\r\n    var eventObject = this._callbackMap[obj.rid];\r\n    if (eventObject) {\r\n      clearTimeout(eventObject.timeout);\r\n      delete eventObject.timeout;\r\n      delete this._callbackMap[obj.rid];\r\n\r\n      if (eventObject.callback) {\r\n        var rehydratedError = scErrors.hydrateError(obj.error);\r\n        eventObject.callback(rehydratedError, obj.data);\r\n      }\r\n    }\r\n  } else {\r\n    Emitter.prototype.emit.call(this, 'event', 'raw', message);\r\n  }\r\n};\r\n\r\nSCTransport.prototype._onMessage = function (message) {\r\n  Emitter.prototype.emit.call(this, 'event', 'message', message);\r\n\r\n  var obj = this.decode(message);\r\n\r\n  // If ping\r\n  if (obj === '#1') {\r\n    this._resetPingTimeout();\r\n    if (this.socket.readyState === this.socket.OPEN) {\r\n      this.sendObject('#2');\r\n    }\r\n  } else {\r\n    if (Array.isArray(obj)) {\r\n      var len = obj.length;\r\n      for (var i = 0; i < len; i++) {\r\n        this._handleEventObject(obj[i], message);\r\n      }\r\n    } else {\r\n      this._handleEventObject(obj, message);\r\n    }\r\n  }\r\n};\r\n\r\nSCTransport.prototype._onError = function (err) {\r\n  Emitter.prototype.emit.call(this, 'error', err);\r\n};\r\n\r\nSCTransport.prototype._resetPingTimeout = function () {\r\n  if (this.pingTimeoutDisabled) {\r\n    return;\r\n  }\r\n  var self = this;\r\n\r\n  var now = (new Date()).getTime();\r\n  clearTimeout(this._pingTimeoutTicker);\r\n\r\n  this._pingTimeoutTicker = setTimeout(function () {\r\n    self._onClose(4000);\r\n    self.socket.close(4000);\r\n  }, this.pingTimeout);\r\n};\r\n\r\nSCTransport.prototype.getBytesReceived = function () {\r\n  return this.socket.bytesReceived;\r\n};\r\n\r\nSCTransport.prototype.close = function (code, data) {\r\n  code = code || 1000;\r\n\r\n  if (this.state === this.OPEN) {\r\n    var packet = {\r\n      code: code,\r\n      data: data\r\n    };\r\n    this.emit('#disconnect', packet);\r\n\r\n    this._onClose(code, data);\r\n    this.socket.close(code);\r\n\r\n  } else if (this.state === this.CONNECTING) {\r\n    this._onClose(code, data);\r\n    this.socket.close(code);\r\n  }\r\n};\r\n\r\nSCTransport.prototype.emitObject = function (eventObject, options) {\r\n  var simpleEventObject = {\r\n    event: eventObject.event,\r\n    data: eventObject.data\r\n  };\r\n\r\n  if (eventObject.callback) {\r\n    simpleEventObject.cid = eventObject.cid = this.callIdGenerator();\r\n    this._callbackMap[eventObject.cid] = eventObject;\r\n  }\r\n\r\n  this.sendObject(simpleEventObject, options);\r\n\r\n  return eventObject.cid || null;\r\n};\r\n\r\nSCTransport.prototype._handleEventAckTimeout = function (eventObject) {\r\n  if (eventObject.cid) {\r\n    delete this._callbackMap[eventObject.cid];\r\n  }\r\n  delete eventObject.timeout;\r\n\r\n  var callback = eventObject.callback;\r\n  if (callback) {\r\n    delete eventObject.callback;\r\n    var error = new TimeoutError(\"Event response for '\" + eventObject.event + \"' timed out\");\r\n    callback.call(eventObject, error, eventObject);\r\n  }\r\n};\r\n\r\n// The last two optional arguments (a and b) can be options and/or callback\r\nSCTransport.prototype.emit = function (event, data, a, b) {\r\n  var self = this;\r\n\r\n  var callback, options;\r\n\r\n  if (b) {\r\n    options = a;\r\n    callback = b;\r\n  } else {\r\n    if (a instanceof Function) {\r\n      options = {};\r\n      callback = a;\r\n    } else {\r\n      options = a;\r\n    }\r\n  }\r\n\r\n  var eventObject = {\r\n    event: event,\r\n    data: data,\r\n    callback: callback\r\n  };\r\n\r\n  if (callback && !options.noTimeout) {\r\n    eventObject.timeout = setTimeout(function () {\r\n      self._handleEventAckTimeout(eventObject);\r\n    }, this.options.ackTimeout);\r\n  }\r\n\r\n  var cid = null;\r\n  if (this.state === this.OPEN || options.force) {\r\n    cid = this.emitObject(eventObject, options);\r\n  }\r\n  return cid;\r\n};\r\n\r\nSCTransport.prototype.cancelPendingResponse = function (cid) {\r\n  delete this._callbackMap[cid];\r\n};\r\n\r\nSCTransport.prototype.decode = function (message) {\r\n  return this.codec.decode(message);\r\n};\r\n\r\nSCTransport.prototype.encode = function (object) {\r\n  return this.codec.encode(object);\r\n};\r\n\r\nSCTransport.prototype.send = function (data) {\r\n  if (this.socket.readyState !== this.socket.OPEN) {\r\n    this._onClose(1005);\r\n  } else {\r\n    this.socket.send(data);\r\n  }\r\n};\r\n\r\nSCTransport.prototype.serializeObject = function (object) {\r\n  var str, formatError;\r\n  try {\r\n    str = this.encode(object);\r\n  } catch (err) {\r\n    formatError = err;\r\n    this._onError(formatError);\r\n  }\r\n  if (!formatError) {\r\n    return str;\r\n  }\r\n  return null;\r\n};\r\n\r\nSCTransport.prototype.sendObjectBatch = function (object) {\r\n  var self = this;\r\n\r\n  this._batchSendList.push(object);\r\n  if (this._batchTimeout) {\r\n    return;\r\n  }\r\n\r\n  this._batchTimeout = setTimeout(function () {\r\n    delete self._batchTimeout;\r\n    if (self._batchSendList.length) {\r\n      var str = self.serializeObject(self._batchSendList);\r\n      if (str != null) {\r\n        self.send(str);\r\n      }\r\n      self._batchSendList = [];\r\n    }\r\n  }, this.options.pubSubBatchDuration || 0);\r\n};\r\n\r\nSCTransport.prototype.sendObjectSingle = function (object) {\r\n  var str = this.serializeObject(object);\r\n  if (str != null) {\r\n    this.send(str);\r\n  }\r\n};\r\n\r\nSCTransport.prototype.sendObject = function (object, options) {\r\n  if (options && options.batch) {\r\n    this.sendObjectBatch(object);\r\n  } else {\r\n    this.sendObjectSingle(object);\r\n  }\r\n};\r\n\r\nmodule.exports.SCTransport = SCTransport;\r\n","var global;\r\nif (typeof WorkerGlobalScope !== 'undefined') {\r\n  global = self;\r\n} else {\r\n  global = typeof window !== 'undefined' && window || (function() { return this; })();\r\n}\r\n\r\nvar WebSocket = global.WebSocket || global.MozWebSocket;\r\n\r\n/**\r\n * WebSocket constructor.\r\n *\r\n * The third `opts` options object gets ignored in web browsers, since it's\r\n * non-standard, and throws a TypeError if passed to the constructor.\r\n * See: https://github.com/einaros/ws/issues/227\r\n *\r\n * @param {String} uri\r\n * @param {Array} protocols (optional)\r\n * @param {Object} opts (optional)\r\n * @api public\r\n */\r\n\r\nfunction ws(uri, protocols, opts) {\r\n  var instance;\r\n  if (protocols) {\r\n    instance = new WebSocket(uri, protocols);\r\n  } else {\r\n    instance = new WebSocket(uri);\r\n  }\r\n  return instance;\r\n}\r\n\r\nif (WebSocket) ws.prototype = WebSocket.prototype;\r\n\r\nmodule.exports = WebSocket ? ws : null;\r\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && msCrypto.getRandomValues.bind(msCrypto));\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  padding: 30px;\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n\\n#menuButtons {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-around;\\n}\\n\\n#menuButtons ion-button {\\n  height: 45px;\\n}\\n\\n#menuButtons ion-icon {\\n  margin-right: 5px;\\n}\\n\\nion-title h1 {\\n  font-weight: bold;\\n  font-size: 20px;\\n  margin-top: 50px;\\n}\\n\\nion-title p {\\n  font-weight: bold;\\n  font-size: 30px;\\n  margin: 0;\\n  margin-left: 10px;\\n}\\n\\nion-title img {\\n  width: 30px;\\n}\\n\\nion-title span {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n#highcharts {\\n  border-radius: 15px;\\n}\\n\\nion-title {\\n  --color: white;\\n}\\n\\n.alert-wrapper.sc-ion-alert-md input {\\n  color: black !important;\\n}\\n\\n#transactionButtonsContainer {\\n  width: 100%;\\n  height: 106px;\\n  border-radius: 50px 50px 0px 0px;\\n  background-color: white;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  display: flex;\\n  justify-content: flex-end;\\n  transition: 0.4s ease;\\n  flex-direction: column;\\n  z-index: 2;\\n}\\n\\n#loadingTransaction {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-items: center;\\n  flex-direction: column;\\n  margin-bottom: 105px;\\n  opacity: 0;\\n  z-index: 2;\\n}\\n\\n.transactionContainer {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 15px;\\n}\\n\\n.transactionContainer > div {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.transactionContainer .transactionIcon {\\n  background: #80D4D2;\\n  border-radius: 10px;\\n  width: 40px;\\n  height: 40px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-size: 25px;\\n  margin-right: 10px;\\n}\\n\\n.transactionContainer > p {\\n  color: #49C1BF !important;\\n  font-size: 18px !important;\\n}\\n\\n.transactionContainer .transactionSummary {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.transactionContainer .transactionSummary p {\\n  color: #49C1BF !important;\\n}\\n\\n.transactionContainer .transactionSummary small {\\n  color: #49C1BF !important;\\n}\\n\\n#loadingTransaction p {\\n  font-weight: bold;\\n  color: #49C1BF;\\n  margin: 0;\\n}\\n\\n#loadingTransaction small {\\n  color: #49C1BF;\\n  margin: 0;\\n}\\n\\n#loadingTransaction ion-spinner {\\n  color: #8bdcda;\\n}\\n\\n#sendContainer {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-items: center;\\n  flex-direction: column;\\n  margin-bottom: 110px;\\n  opacity: 0;\\n  z-index: 2;\\n}\\n\\n#sendContainer > p {\\n  color: #8BDCDA;\\n  font-weight: bold !important;\\n}\\n\\n#sendContainer span {\\n  display: flex;\\n  align-items: center;\\n  transition: 0.3s ease;\\n  margin-bottom: 5px;\\n}\\n\\n#sendContainer #sendAmounts {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-around;\\n  margin-top: 20px;\\n  margin-bottom: 20px;\\n}\\n\\n#sendContainer #sendAmounts > ion-button {\\n  height: 40px;\\n}\\n\\n#sendContainer span p {\\n  font-weight: bold;\\n  font-size: 35px;\\n  color: #8BDCDA;\\n}\\n\\n#sendContainer span img {\\n  width: 30px;\\n  margin-right: 10px;\\n}\\n\\n#sendContainer #addressForm {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n}\\n\\n#sendContainer #addressForm p {\\n  color: #49C1BF;\\n  font-weight: bold;\\n  margin-left: 60px;\\n  margin-bottom: 10px;\\n}\\n\\n#sendContainer ion-item {\\n  border-radius: 50px;\\n  --background: #80D4D2;\\n  color: white;\\n  font-weight: bold;\\n  margin-left: 30px;\\n  margin-right: 30px;\\n  -webkit-animation: barFadeIn 0.3s ease forwards;\\n          animation: barFadeIn 0.3s ease forwards;\\n  -webkit-animation-delay: 0.1s;\\n          animation-delay: 0.1s;\\n}\\n\\n#receiveContainer {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-items: center;\\n  flex-direction: column;\\n  margin-bottom: 110px;\\n  opacity: 0;\\n  z-index: 2;\\n}\\n\\n#receiveContainer span {\\n  display: flex;\\n  align-items: center;\\n  transition: 0.3s ease;\\n  margin-bottom: 25px;\\n}\\n\\n#receiveContainer span p {\\n  font-weight: bold;\\n  font-size: 35px;\\n  color: #8BDCDA;\\n}\\n\\n#receiveContainer span img {\\n  width: 30px;\\n  margin-right: 10px;\\n}\\n\\n#transactionButtonsContainer > #buttonContainer {\\n  width: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-evenly;\\n  margin-bottom: 15px;\\n}\\n\\n#receiveContainer #addressForm {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n}\\n\\n#receiveContainer #addressForm p {\\n  color: #49C1BF;\\n  font-weight: bold;\\n  margin-left: 60px;\\n  margin-bottom: 10px;\\n}\\n\\n#receiveContainer ion-item {\\n  border-radius: 50px;\\n  --background: #80D4D2;\\n  color: white;\\n  font-weight: bold;\\n  margin-left: 30px;\\n  margin-right: 30px;\\n  -webkit-animation: barFadeIn 0.3s ease forwards;\\n          animation: barFadeIn 0.3s ease forwards;\\n  -webkit-animation-delay: 0.1s;\\n          animation-delay: 0.1s;\\n}\\n\\n#transactionButtonsContainer ion-button {\\n  width: 40%;\\n}\\n\\n.expandBox {\\n  height: 220px !important;\\n}\\n\\n.expandTransactionBox {\\n  height: 365px !important;\\n}\\n\\n.expandLoadingBox {\\n  height: 220px !important;\\n}\\n\\n.hidden {\\n  display: none !important;\\n}\\n\\n.fadeIn {\\n  -webkit-animation: fadeIn 0.3s forwards;\\n          animation: fadeIn 0.3s forwards;\\n  -webkit-animation-delay: 0.15s;\\n          animation-delay: 0.15s;\\n  z-index: 3 !important;\\n}\\n\\n.fadeOut {\\n  -webkit-animation: fadeOut 0.15s forwards;\\n          animation: fadeOut 0.15s forwards;\\n}\\n\\n@-webkit-keyframes fadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n    pointer-events: none;\\n  }\\n}\\n\\n@keyframes fadeOut {\\n  from {\\n    opacity: 1;\\n  }\\n  to {\\n    opacity: 0;\\n    pointer-events: none;\\n  }\\n}\\n\\n@-webkit-keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@-webkit-keyframes rotate {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes rotate {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n.rotate {\\n  transform-origin: center;\\n  -webkit-animation: rotate ease 1s;\\n          animation: rotate ease 1s;\\n}\\n\\n#transactionHistory {\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  background: #BFE9E8;\\n  border-radius: 30px;\\n  height: 65%;\\n  z-index: 1;\\n  padding: 5px 25px;\\n  overflow-y: scroll;\\n  padding-bottom: 105px;\\n}\\n\\n#transactionHistory h2 {\\n  color: #49C1BF;\\n  font-weight: bold;\\n  font-size: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBRUEsY0FBQTtFQUVBLFNBQUE7QUFERjs7QUFJQTtFQUNFLHFCQUFBO0FBREY7O0FBSUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLDZCQUFBO0FBREY7O0FBSUE7RUFDRSxZQUFBO0FBREY7O0FBSUE7RUFDRSxpQkFBQTtBQURGOztBQUlBO0VBQ0UsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUFERjs7QUFJQTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFNBQUE7RUFDQSxpQkFBQTtBQURGOztBQUlBO0VBQ0UsV0FBQTtBQURGOztBQUlBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7QUFERjs7QUFJQTtFQUNFLG1CQUFBO0FBREY7O0FBSUE7RUFDRSxjQUFBO0FBREY7O0FBSUE7RUFDRSx1QkFBQTtBQURGOztBQUlBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxnQ0FBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsT0FBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxVQUFBO0FBREY7O0FBSUE7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQkFBQTtFQUNBLFVBQUE7RUFDQSxVQUFBO0FBREY7O0FBSUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLG1CQUFBO0FBREY7O0FBSUE7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7QUFERjs7QUFJQTtFQUNFLG1CQUFBO0VBQ0EsbUJBQUE7RUFD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QUE7RUFGRjtFQUlBO0lBQ0UsVUFBQTtFQUZGO0FBQ0Y7O0FBS0E7RUFDRTtJQUNFLHVCQUFBO0VBSEY7RUFLQTtJQUNFLHlCQUFBO0VBSEY7QUFDRjs7QUFIQTtFQUNFO0lBQ0UsdUJBQUE7RUFIRjtFQUtBO0lBQ0UseUJBQUE7RUFIRjtBQUNGOztBQU1BO0VBQ0Usd0JBQUE7RUFDQSxpQ0FBQTtVQUFBLHlCQUFBO0FBSkY7O0FBT0E7RUFDRSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQUpGOztBQU9BO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtBQUpGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXIge1xuICBwYWRkaW5nOiAzMHB4O1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG5cbiAgY29sb3I6ICM4YzhjOGM7XG5cbiAgbWFyZ2luOiAwO1xufVxuXG4jY29udGFpbmVyIGEge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbiNtZW51QnV0dG9ucyB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbn1cblxuI21lbnVCdXR0b25zIGlvbi1idXR0b24ge1xuICBoZWlnaHQ6IDQ1cHg7XG59XG5cbiNtZW51QnV0dG9ucyBpb24taWNvbiB7XG4gIG1hcmdpbi1yaWdodDogNXB4O1xufVxuXG5pb24tdGl0bGUgaDEge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBtYXJnaW4tdG9wOiA1MHB4O1xufVxuXG5pb24tdGl0bGUgcCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDMwcHg7XG4gIG1hcmdpbjogMDtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG5cbmlvbi10aXRsZSBpbWcge1xuICB3aWR0aDogMzBweDtcbn1cblxuaW9uLXRpdGxlIHNwYW4ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuI2hpZ2hjaGFydHMge1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xufVxuXG5pb24tdGl0bGUge1xuICAtLWNvbG9yOiB3aGl0ZTtcbn1cblxuLmFsZXJ0LXdyYXBwZXIuc2MtaW9uLWFsZXJ0LW1kIGlucHV0IHtcbiAgY29sb3I6IGJsYWNrICFpbXBvcnRhbnQ7XG59XG5cbiN0cmFuc2FjdGlvbkJ1dHRvbnNDb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDZweDtcbiAgYm9yZGVyLXJhZGl1czogNTBweCA1MHB4IDBweCAwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgdHJhbnNpdGlvbjogLjRzIGVhc2U7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHotaW5kZXg6IDI7XG59XG5cbiNsb2FkaW5nVHJhbnNhY3Rpb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLWJvdHRvbTogMTA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHotaW5kZXg6IDI7XG59XG5cbi50cmFuc2FjdGlvbkNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cblxuLnRyYW5zYWN0aW9uQ29udGFpbmVyID4gZGl2IHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLnRyYW5zYWN0aW9uQ29udGFpbmVyIC50cmFuc2FjdGlvbkljb24ge1xuICBiYWNrZ3JvdW5kOiAjODBENEQyO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgZm9udC1zaXplOiAyNXB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi50cmFuc2FjdGlvbkNvbnRhaW5lciA+IHAge1xuICBjb2xvcjogIzQ5QzFCRiAhaW1wb3J0YW50O1xuICBmb250LXNpemU6IDE4cHggIWltcG9ydGFudDtcbn1cblxuLnRyYW5zYWN0aW9uQ29udGFpbmVyIC50cmFuc2FjdGlvblN1bW1hcnkge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4udHJhbnNhY3Rpb25Db250YWluZXIgLnRyYW5zYWN0aW9uU3VtbWFyeSBwIHtcbiAgY29sb3I6ICM0OUMxQkYgIWltcG9ydGFudDtcbn1cblxuLnRyYW5zYWN0aW9uQ29udGFpbmVyIC50cmFuc2FjdGlvblN1bW1hcnkgc21hbGwge1xuICBjb2xvcjogIzQ5QzFCRiAhaW1wb3J0YW50O1xufVxuXG4jbG9hZGluZ1RyYW5zYWN0aW9uIHAge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICM0OUMxQkY7XG4gIG1hcmdpbjogMDtcbn1cblxuI2xvYWRpbmdUcmFuc2FjdGlvbiBzbWFsbCB7XG4gIGNvbG9yOiAjNDlDMUJGO1xuICBtYXJnaW46IDA7XG59XG5cbiNsb2FkaW5nVHJhbnNhY3Rpb24gaW9uLXNwaW5uZXIge1xuICBjb2xvcjogIzhiZGNkYTtcbn1cblxuI3NlbmRDb250YWluZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLWJvdHRvbTogMTEwcHg7XG4gIG9wYWNpdHk6IDA7XG4gIHotaW5kZXg6IDI7XG59XG5cbiNzZW5kQ29udGFpbmVyID4gcCB7XG4gIGNvbG9yOiAjOEJEQ0RBO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkICFpbXBvcnRhbnQ7XG59XG5cbiNzZW5kQ29udGFpbmVyIHNwYW4ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB0cmFuc2l0aW9uOiAuM3MgZWFzZTtcbiAgbWFyZ2luLWJvdHRvbTogNXB4O1xufVxuXG4jc2VuZENvbnRhaW5lciAjc2VuZEFtb3VudHMge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbiNzZW5kQ29udGFpbmVyICNzZW5kQW1vdW50cyA+IGlvbi1idXR0b24ge1xuICBoZWlnaHQ6IDQwcHg7XG59XG5cbiNzZW5kQ29udGFpbmVyIHNwYW4gcCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDM1cHg7XG4gIGNvbG9yOiAjOEJEQ0RBO1xufVxuXG4jc2VuZENvbnRhaW5lciBzcGFuIGltZyB7XG4gIHdpZHRoOiAzMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbiNzZW5kQ29udGFpbmVyICNhZGRyZXNzRm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4jc2VuZENvbnRhaW5lciAjYWRkcmVzc0Zvcm0gcCB7XG4gIGNvbG9yOiAjNDlDMUJGO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLWxlZnQ6IDYwcHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbiNzZW5kQ29udGFpbmVyIGlvbi1pdGVtIHtcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgLS1iYWNrZ3JvdW5kOiAjODBENEQyO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tbGVmdDogMzBweDtcbiAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICBhbmltYXRpb246IGJhckZhZGVJbiAuM3MgZWFzZSBmb3J3YXJkcztcbiAgYW5pbWF0aW9uLWRlbGF5OiAuMXM7XG59XG5cbiNyZWNlaXZlQ29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1hcmdpbi1ib3R0b206IDExMHB4O1xuICBvcGFjaXR5OiAwO1xuICB6LWluZGV4OiAyO1xufVxuXG4jcmVjZWl2ZUNvbnRhaW5lciBzcGFuIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdHJhbnNpdGlvbjogLjNzIGVhc2U7XG4gIG1hcmdpbi1ib3R0b206IDI1cHg7XG59XG5cbiNyZWNlaXZlQ29udGFpbmVyIHNwYW4gcCB7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDM1cHg7XG4gIGNvbG9yOiAjOEJEQ0RBO1xufVxuXG4jcmVjZWl2ZUNvbnRhaW5lciBzcGFuIGltZyB7XG4gIHdpZHRoOiAzMHB4O1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbiN0cmFuc2FjdGlvbkJ1dHRvbnNDb250YWluZXIgPiAjYnV0dG9uQ29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4jcmVjZWl2ZUNvbnRhaW5lciAjYWRkcmVzc0Zvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcbn1cblxuI3JlY2VpdmVDb250YWluZXIgI2FkZHJlc3NGb3JtIHAge1xuICBjb2xvcjogIzQ5QzFCRjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIG1hcmdpbi1sZWZ0OiA2MHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xufVxuXG4jcmVjZWl2ZUNvbnRhaW5lciBpb24taXRlbSB7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIC0tYmFja2dyb3VuZDogIzgwRDREMjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLWxlZnQ6IDMwcHg7XG4gIG1hcmdpbi1yaWdodDogMzBweDtcbiAgYW5pbWF0aW9uOiBiYXJGYWRlSW4gLjNzIGVhc2UgZm9yd2FyZHM7XG4gIGFuaW1hdGlvbi1kZWxheTogLjFzO1xufVxuXG4jdHJhbnNhY3Rpb25CdXR0b25zQ29udGFpbmVyIGlvbi1idXR0b24ge1xuICB3aWR0aDogNDAlO1xufVxuXG4uZXhwYW5kQm94IHtcbiAgaGVpZ2h0OiAyMjBweCAhaW1wb3J0YW50O1xufVxuXG4uZXhwYW5kVHJhbnNhY3Rpb25Cb3gge1xuICBoZWlnaHQ6IDM2NXB4ICFpbXBvcnRhbnQ7XG59XG5cbi5leHBhbmRMb2FkaW5nQm94IHtcbiAgaGVpZ2h0OiAyMjBweCAhaW1wb3J0YW50O1xufVxuXG4uaGlkZGVuIHtcbiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xufVxuXG4uZmFkZUluIHtcbiAgYW5pbWF0aW9uOiBmYWRlSW4gLjNzIGZvcndhcmRzO1xuICBhbmltYXRpb24tZGVsYXk6IC4xNXM7XG4gIHotaW5kZXg6IDMgIWltcG9ydGFudDtcbn1cblxuLmZhZGVPdXQge1xuICBhbmltYXRpb246IGZhZGVPdXQgLjE1cyBmb3J3YXJkcztcbn1cblxuQGtleWZyYW1lcyBmYWRlT3V0IHtcbiAgZnJvbSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMDtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgfVxufVxuXG5Aa2V5ZnJhbWVzIGZhZGVJbiB7XG4gIGZyb20ge1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbiAgdG8ge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbn1cblxuQGtleWZyYW1lcyByb3RhdGUge1xuICBmcm9tIHtcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgfVxuICB0byB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxufVxuXG4ucm90YXRlIHtcbiAgdHJhbnNmb3JtLW9yaWdpbjogY2VudGVyO1xuICBhbmltYXRpb246IHJvdGF0ZSBlYXNlIDFzO1xufVxuXG4jdHJhbnNhY3Rpb25IaXN0b3J5IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjQkZFOUU4O1xuICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICBoZWlnaHQ6IDY1JTtcbiAgei1pbmRleDogMTtcbiAgcGFkZGluZzogNXB4IDI1cHg7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgcGFkZGluZy1ib3R0b206IDEwNXB4O1xufVxuXG4jdHJhbnNhY3Rpb25IaXN0b3J5IGgyIHtcbiAgY29sb3I6ICM0OUMxQkY7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBmb250LXNpemU6IDE2cHg7XG59Il19 */\";","import { Component } from '@angular/core';\nimport { Platform } from '@ionic/angular';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { Clipboard } from '@ionic-native/clipboard/ngx';\nimport { Vibration } from '@ionic-native/vibration/ngx';\nimport zilliqaAPI from '@zilliqa-js/viewblock'\n\nconst { BN, Long, bytes, units, validation } = require('@zilliqa-js/util');\nconst { Zilliqa } = require('@zilliqa-js/zilliqa');\nconst {\n  toBech32Address,\n  getAddressFromPrivateKey,\n} = require('@zilliqa-js/crypto');\n\nconst zilliqa = new Zilliqa('https://api.zilliqa.com/');\n\nconst apiClient = zilliqaAPI({\n  apiKey: '905e89d706d250f76783e41817d82af2317742831d330609e7434678d15ce62e',\n})\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n  expandTransactionBox = false; \n  expandReceiveBox = false; \n  processingTransaction = false;\n\n  balance = 0;\n  walletAddress;\n\n  sendAddress = \"\";\n  sendAmount = 0;\n  newBalance = 0;\n\n  transactionHistory;\n\n  updateData: boolean = false;\n  \n  constructor(private vibration: Vibration, public platform: Platform, private activatedRoute: ActivatedRoute, public alertController: AlertController, private clipboard: Clipboard, private route: Router) {\n  }\n\n  ngOnInit() {\n    this.platform.ready().then(() => {\n      this.setupWallet();\n    })\n  }\n\n  setupWallet() {\n    this.activatedRoute.params.subscribe(param => {\n      const privkey = param.privkey.replaceAll('\"', \"\");\n      zilliqa.wallet.addByPrivateKey(privkey);\n      this.walletAddress = toBech32Address(getAddressFromPrivateKey(privkey));\n      zilliqa.blockchain.getBalance(this.walletAddress).then((data) => {\n        this.balance = units.fromQa(new BN(data.result.balance), units.Units.Zil);\n      }).catch((error) => {\n        //If balance is 0, prevent error\n      });\n\n      this.updateTransactionHistory();\n    });\n  }\n\n  updateTransactionHistory() {\n    apiClient.getAddressTxs(this.walletAddress, { page: 1 }).then((data) => {\n      this.transactionHistory = data.docs;\n    }).catch((err) => {\n      console.log(err)\n    });\n  }\n\n  delay(ms: number) {\n    return new Promise( resolve => setTimeout(resolve, ms) );\n  }\n\n  updateWalletData() {\n    this.vibration.vibrate(100);\n    this.updateData = true;\n    (async () => { \n      await this.delay(1000);\n      this.updateData = false;\n    })();\n    zilliqa.blockchain.getBalance(this.walletAddress).then((data) => {\n      this.balance = units.fromQa(new BN(data.result.balance), units.Units.Zil);\n    }).catch((error) => {\n      //If balance is 0, prevent error\n    });\n    this.updateTransactionHistory();\n  }\n\n  confirmTransaction() {\n    this.vibration.vibrate(100);\n    if((this.balance - this.sendAmount) > 0) {\n      if(validation.isAddress(this.sendAddress) || validation.isBech32(this.sendAddress)) {\n\n        this.processingTransaction = true;\n        this.expandTransactionBox = false;\n        \n        const gasPrice = units.toQa('1000', units.Units.Li);\n        const tx = zilliqa.blockchain.createTransaction(\n          zilliqa.transactions.new(\n            {\n              version: 65537,\n              toAddr: this.sendAddress,\n              amount: new BN(units.toQa(this.sendAmount, units.Units.Zil)),\n              gasPrice: gasPrice,\n              gasLimit: Long.fromNumber(1),\n            }, false)\n        ).then((response) => {\n          console.log(response);\n          this.processingTransaction = false;\n          this.updateWalletData();\n          this.vibration.vibrate([100,200,100]);\n        }).catch((error) => {\n          console.log(error);\n        });\n      } else {\n        console.log(this.sendAddress);\n        this.showPopup(\"Error\", \"Address is not valid.\");\n      }\n    } else {\n      this.showPopup(\"Error\", \"Not enough balance to complete this transaction.\");\n    }\n  }\n\n  copyAddress() {\n    this.showReceivePopup(\"ZIL address\", \"Your address is: \" + this.walletAddress);\n  }\n\n  async showCustomAmountPopup(head, message) {\n    const alert = await this.alertController.create({\n      header: head,\n      message: message,\n      inputs: [\n        {\n          name: 'amount',\n          type: 'number'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel'\n        },\n        {\n          text: 'Set',\n          handler: (alertData) => {\n            this.sendAmount = alertData.amount;\n            this.calculateNewBalance();\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async showReceivePopup(head, message) {\n    const alert = await this.alertController.create({\n      header: head,\n      message: message,\n      buttons: [\n        {\n          text: 'Cancel'\n        },\n        {\n          text: 'Copy',\n          handler: () => {\n            this.clipboard.copy(this.walletAddress);\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async showPopup(head, message) {\n    const alert = await this.alertController.create({\n      header: head,\n      message: message,\n      buttons: [\n        {\n          text: 'Ok'\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  increaseSend(amount) {\n    this.sendAmount += amount;\n    this.calculateNewBalance();\n    this.vibration.vibrate(100);\n  }\n\n  setCustomSend() {\n    this.showCustomAmountPopup(\"Custom amount\", \"Enter the amount of ZIL you want to sent\");\n  }\n\n  calculateNewBalance() {\n    this.newBalance = this.balance - this.sendAmount;\n  }\n\n  openSend() {\n    this.expandTransactionBox = !this.expandTransactionBox;\n    this.vibration.vibrate(100);\n  }\n\n  openReceive() {\n    this.expandReceiveBox = !this.expandReceiveBox;\n    this.vibration.vibrate(100);\n  }\n\n  closeAction() {\n    this.expandReceiveBox = false;\n    this.expandTransactionBox = false;\n    this.vibration.vibrate(100);\n  }\n\n  convertQa(amount) {\n    return units.fromQa(new BN(amount), units.Units.Zil);\n  }\n\n  convertTimestamp(timestamp) {\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n    ];\n    var date = new Date(timestamp);\n    return monthNames[date.getMonth()] + \" \" + date.getDate() + \", \" + date.getFullYear();\n  }\n\n  openSettings() {\n    this.vibration.vibrate(100);\n    this.route.navigate(['/settings/' + zilliqa.wallet.defaultAccount.privateKey]);\n  }\n}\n"]}